!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=401)}({1:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(98)),n(r(99)),n(r(104)),n(r(105)),n(r(106)),n(r(107)),n(r(108)),n(r(109)),n(r(110)),n(r(111))},100:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},101:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(102),o=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return this.m_instance||(this.m_instance=new n.LoggerManagerImpl)},enumerable:!0,configurable:!0}),e}();t.LoggerManager=o},102:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(45),i=r(46),a=r(47),u=function(){function e(){this.m_loggers=[],this.channel="undefined"==typeof self||void 0!==self.document?new o.ConsoleChannel:new a.WorkerChannel}return e.prototype.getLoggerNames=function(){return this.m_loggers.map(function(e){return e.name})},e.prototype.getLogger=function(e){return this.m_loggers.find(function(t){return t.name===e})},e.prototype.create=function(e,t){var r=new i.Logger(e,this.channel,t);return this.m_loggers.push(r),r},e.prototype.dispose=function(e){var t=this.m_loggers.indexOf(e);if(t<0)throw new Error('Cannot unregister "'+e+'" : no such logger registered.');this.m_loggers.splice(t,1)},e.prototype.updateAll=function(e){try{for(var t=n(this.m_loggers),r=t.next();!r.done;r=t.next()){r.value.update(e)}}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=t.return)&&i.call(t)}finally{if(o)throw o.error}}var o,i},e.prototype.update=function(e,t){try{for(var r=n(this.m_loggers),o=r.next();!o.done;o=r.next()){var i=o.value;i.name===e&&i.update(t)}}catch(e){a={error:e}}finally{try{o&&!o.done&&(u=r.return)&&u.call(r)}finally{if(a)throw a.error}}var a,u},e.prototype.enableAll=function(e){try{for(var t=n(this.m_loggers),r=t.next();!r.done;r=t.next()){r.value.enabled=e}}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=t.return)&&i.call(t)}finally{if(o)throw o.error}}var o,i},e.prototype.enable=function(e,t){this.update(e,{enabled:t})},e.prototype.setLogLevelForAll=function(e){try{for(var t=n(this.m_loggers),r=t.next();!r.done;r=t.next()){r.value.level=e}}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=t.return)&&i.call(t)}finally{if(o)throw o.error}}var o,i},e.prototype.setLogLevel=function(e,t){this.update(e,{level:t})},e.prototype.setChannel=function(e){this.channel=e},e}();t.LoggerManagerImpl=u},103:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.channels=[],this.channels=e}return e.prototype.error=function(e){for(var t,r,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];try{for(var u=n(this.channels),l=u.next();!l.done;l=u.next()){var s=l.value;s.error.apply(s,i([e],o))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}},e.prototype.debug=function(e){for(var t,r,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];try{for(var u=n(this.channels),l=u.next();!l.done;l=u.next()){var s=l.value;s.debug.apply(s,i([e],o))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}},e.prototype.info=function(e){for(var t,r,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];try{for(var u=n(this.channels),l=u.next();!l.done;l=u.next()){var s=l.value;s.info.apply(s,i([e],o))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}},e.prototype.log=function(e){for(var t,r,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];try{for(var u=n(this.channels),l=u.next();!l.done;l=u.next()){var s=l.value;s.log.apply(s,i([e],o))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}},e.prototype.trace=function(e){for(var t,r,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];try{for(var u=n(this.channels),l=u.next();!l.done;l=u.next()){var s=l.value;s.trace.apply(s,i([e],o))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}},e.prototype.warn=function(e){for(var t,r,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];try{for(var u=n(this.channels),l=u.next();!l.done;l=u.next()){var s=l.value;s.warn.apply(s,i([e],o))}}catch(e){t={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}},e}();t.MultiChannel=a},104:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=function(){function e(e,t,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=e,this.y=t,this.w=r,this.h=n}return e.prototype.set=function(e,t,r,n){this.x=e,this.y=t,this.w=r,this.h=n},e.prototype.contains=function(e,t){return this.x<=e&&this.x+this.w>=e&&this.y<=t&&this.y+this.h>=t},e.prototype.intersects=function(e){return this.x<=e.x+e.w&&this.x+this.w>=e.x&&this.y<=e.y+e.h&&this.y+this.h>=e.y},e}();function r(e,t,r,n){return(e-r)*(e-r)+(t-n)*(t-n)}e.Box=t,e.distSquared=r,e.distToSegmentSquared=function(e,t,n,o,i,a){var u=r(n,o,i,a);if(0===u)return r(e,t,n,o);var l=((e-n)*(i-n)+(t-o)*(a-o))/u;return r(e,t,n+(l=Math.max(0,Math.min(1,l)))*(i-n),o+l*(a-o))}}(t.Math2D||(t.Math2D={}))},105:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e,t,r){return e<t?t:e>r?r:e}e.clamp=t,e.smoothStep=function(e,r,n){return(n=t((n-e)/(r-e),0,1))*n*(3-2*n)},e.smootherStep=function(e,r,n){return(n=t((n-e)/(r-e),0,1))*n*n*(n*(6*n-15)+10)}}(t.MathUtils||(t.MathUtils={}))},106:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=!0;t.assert=function(e,t){if(!n&&!e)throw new Error(void 0!==t?t:"ASSERTION failed")},t.assertExists=function(e,t){if(!n&&!e)throw new Error(void 0!==t?t:"ASSERTION failed: Element is undefined");return e}},107:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},108:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function t(){if("undefined"!=typeof performance&&void 0!==performance.now)t.nowFunc=function(){return performance.now()};else if("undefined"!=typeof window){var r=window;r&&r.performance&&r.performance.now?t.nowFunc=function(){return window.performance.now()}:r&&r.webkitNow?t.nowFunc=function(){return r.performance.webkitNow()}:t.nowFunc=function(){return(new Date).getTime()}}else void 0!==e&&void 0!==e.hrtime?t.nowFunc=function(){var t=e.hrtime();return Math.round(1e3*t[0]+t[1]/1e6)}:t.nowFunc=function(){return(new Date).getTime()}}return t.now=function(){return t.nowFunc()},t.instance=new t,t}();t.PerformanceTimer=r}).call(this,r(14))},109:function(e,t,r){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getOptionValue=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];try{for(var i=o(r),a=i.next();!a.done;a=i.next()){var u=a.value;if(void 0!==u&&null!==u)return u}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},t.mergeWithOptions=function(e,t){var r=n({},e);if(void 0===t||null===t)return r;for(var o in e)if(e.hasOwnProperty(o)){var i=t[o];void 0!==i&&null!==i&&(r[o]=i)}return r}},11:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=Math.PI/180,i=function(){function e(e,t){this.southWest=e,this.northEast=t}return e.fromCoordinates=function(t,r){return new e(t,r)},Object.defineProperty(e.prototype,"minAltitude",{get:function(){if(void 0!==this.southWest.altitude&&void 0!==this.northEast.altitude)return Math.min(this.southWest.altitude,this.northEast.altitude)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxAltitude",{get:function(){if(void 0!==this.southWest.altitude&&void 0!==this.northEast.altitude)return Math.max(this.southWest.altitude,this.northEast.altitude)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"south",{get:function(){return this.southWest.latitude},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"north",{get:function(){return this.northEast.latitude},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"west",{get:function(){return this.southWest.longitude},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"east",{get:function(){return this.northEast.longitude},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"center",{get:function(){var e,t=.5*(this.south+this.north),r=this.west,o=this.east,i=this.minAltitude,a=this.altitudeSpan;if(void 0!==i&&void 0!==a&&(e=i+.5*a),r<o)return new n.GeoCoordinates(t,.5*(r+o),e);var u=.5*(360+o+r);return u>360&&(u-=360),new n.GeoCoordinates(t,u,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"latitudeSpanInRadians",{get:function(){return this.latitudeSpan*o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitudeSpanInRadians",{get:function(){return this.longitudeSpan*o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"latitudeSpan",{get:function(){return this.north-this.south},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"altitudeSpan",{get:function(){if(void 0!==this.maxAltitude&&void 0!==this.minAltitude)return this.maxAltitude-this.minAltitude},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitudeSpan",{get:function(){var e=this.northEast.longitude-this.southWest.longitude;return e<0&&(e+=360),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"latitudeSpanInDegrees",{get:function(){return this.latitudeSpan},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitudeSpanInDegrees",{get:function(){return this.longitudeSpan},enumerable:!0,configurable:!0}),e.prototype.contains=function(e){if(void 0===e.altitude||void 0===this.minAltitude||void 0===this.maxAltitude)return this.containsHelper(e);var t=this.minAltitude===this.maxAltitude,r=this.minAltitude===e.altitude,n=this.minAltitude<=e.altitude&&this.maxAltitude>e.altitude;return!(t?!r:!n)&&this.containsHelper(e)},e.prototype.clone=function(){return new e(this.southWest,this.northEast)},e.prototype.containsHelper=function(e){if(e.latitude<this.southWest.latitude||e.latitude>=this.northEast.latitude)return!1;var t=this.west,r=this.east;return r>t?e.longitude>=t&&e.longitude<r:e.longitude>r||e.longitude<=t},e}();t.GeoBox=i},110:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.defaultUrlResolver=function(e){return void 0!==n?n(e):e},t.setDefaultUrlResolver=function(e){n=e},t.composeUrlResolvers=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.reduce(function(e,t){return void 0!==t?t(e):e},t)}}},111:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveReferenceUrl=function(e,t){return n.test(t)?t:t.startsWith("/")?i(e)+t:(t.startsWith("./")&&(t=t.substr(2)),o(e)+t)};var n=new RegExp("^(?:[a-z]+:)?//","i");function o(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substring(0,t+1)}function i(e){var t=a(e);return"file:"===t.protocol?"file://":t.host&&t.protocol?t.protocol+"//"+t.host:t.host?"//"+t.host:t.protocol?t.protocol+"//":""}function a(e){var t=new RegExp(/^(?:([a-z]+:))?\/\/([^\/]*)/,"i"),r=e.match(t);if(!r)throw new Error("getUrlHostAndProtocol: unable to parse URL '"+e+"'");return{protocol:r[1],host:r[2]}}t.baseUrl=o,t.getUrlOrigin=i,t.getUrlHostAndProtocol=a},112:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r){var n=e.call(this,t)||this;return n.m_memoryLimit=r,n}return n(t,e),Object.defineProperty(t.prototype,"maximumMemoryAllocated",{get:function(){return this.m_memoryLimit},enumerable:!0,configurable:!0}),t.prototype.setMaximumMemoryAllocated=function(e){this.m_memoryLimit=e,this.evict()},t.prototype.set=function(t,r){e.prototype.set.call(this,t,r),this.evict()},t.prototype.evict=function(){for(var e=this.calculateMemoryUsage();this.map.size>this.capacity||e>this.m_memoryLimit;){var t=this.evictOldest().value.memoryUsage;void 0!==t&&(e-=t)}},t.prototype.calculateMemoryUsage=function(){var e=0;return this.map.forEach(function(t){e+=t.value.memoryUsage}),e},t}(r(48).LRUCache);t.ResourceCache=o},113:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(49);function i(e){if(null===e)return null;var t=e.indexOf(";");return(-1===t?e:e.substring(0,t)).trim()}function a(e,t){return new Promise(function(r,a){var u=new XMLHttpRequest;if(void 0===t&&(t={}),void 0!==t.cancellationToken){if(t.cancellationToken.isCancelled)return a(new o.CancellationException);t.cancellationToken._cancel=function(){return u.abort()}}void 0!==t.responseType&&(u.responseType=t.responseType),u.onload=function(){var t={type:"default",status:u.status,statusText:u.statusText,ok:u.status>=200&&u.status<300,url:e,get headers(){return function(e){var t,r,i=new o.Headers;try{for(var a=n(e.split("\r\n")),u=a.next();!u.done;u=a.next()){var l=u.value,s=l.indexOf(":");if(-1!==s){var c=l.substring(0,s).trim(),d=l.substring(s+1).trim();i.append(c,d)}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i}(u.getAllResponseHeaders())},arrayBuffer:function(){return"arraybuffer"===u.responseType?Promise.resolve(u.response):Promise.reject(new Error("Content type "+i(u.getResponseHeader("Content-Type"))+" cannot be expressed as ArrayBuffer, please use json() or text() instead."))},json:function(){return"json"===u.responseType?Promise.resolve(u.response):Promise.reject(new Error('Response type must be "json" but is '+u.responseType))},text:function(){return""===u.responseType||"text"===u.responseType?Promise.resolve(u.responseText):Promise.reject(new Error('Response type must be "" or "text"'))}};r(t)},u.onerror=function(){a(new TypeError("Network request failed"))},u.ontimeout=function(){a(new TypeError("Network request timed out"))},u.onabort=function(){a(new o.CancellationException)},u.onreadystatechange=function(){try{if(u.readyState===u.HEADERS_RECEIVED){if(void 0!==t&&void 0!==t.responseType)return void(u.responseType=t.responseType);var e=i(u.getResponseHeader("Content-Type"));u.responseType="text/plain"===e?"text":"application/json"===e||"application/vnd.geo+json"===e||"application/geo+json"===e?"json":"arraybuffer"}}catch(e){}};var l=void 0===t.method?"GET":t.method;u.open(l,e),void 0!==t.headers&&t.headers.forEach(function(e,t){return u.setRequestHeader(t,e)}),u.send(t.body)})}t.cancellableFetch_xhr=a,t.fetch=a},12:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Math.PI/180,o=180/Math.PI;!function(e){function t(e){return(e%=360)<0&&(e+=360),e}function r(e,r){var n=(e=t(e))-(r=t(r));return n>180?n-360:n<=-180?n+360:n}e.newEmptyBox3=function(){return{min:{x:1/0,y:1/0,z:1/0},max:{x:-1/0,y:-1/0,z:-1/0}}},e.degToRad=function(e){return e*n},e.radToDeg=function(e){return e*o},e.clamp=function(e,t,r){return e<t?t:e>r?r:e},e.normalizeAngleDeg=t,e.angleDistanceDeg=r,e.interpolateAnglesDeg=function(e,t,n){return(e+r(t,e)*n)%360}}(t.MathUtils||(t.MathUtils={}))},14:function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,s=[],c=!1,d=-1;function p(){c&&l&&(c=!1,l.length?s=l.concat(s):d=-1,s.length&&h())}function h(){if(!c){var e=u(p);c=!0;for(var t=s.length;t;){for(l=s,s=[];++d<t;)l&&l[d].run();d=-1,t=s.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new f(e,t)),1!==s.length||c||u(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},15:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(40),o=r(43),i=r(44),a=function(){function e(e,t){this.subdivisionScheme=e,this.projection=t,this.boundingBoxGenerator=new n.FlatTileBoundingBoxGenerator(this),this.tileTreeTraverse=new i.TileTreeTraverse(e)}return e.prototype.getSubTileKeys=function(e){return this.tileTreeTraverse.subTiles(e)},e.prototype.getTileKey=function(e,t){return o.TileKeyUtils.geoCoordinatesToTileKey(this,e,t)},e.prototype.getTileKeys=function(e,t){return o.TileKeyUtils.geoRectangleToTileKeys(this,e,t)},e.prototype.getGeoBox=function(e){return this.boundingBoxGenerator.getGeoBox(e)},e.prototype.getWorldBox=function(e,t){return this.boundingBoxGenerator.getWorldBox(e,t)},e}();t.TilingScheme=a},153:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function u(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,u)}l((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=n[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(36),a=r(35),u=r(82),l=r(154);var s=function(){function e(e,t,r,n){var o;if(this.apiVersion=1,"string"==typeof e){if(void 0===t||void 0===r)throw new TypeError("Wrong arguments in constructor");o={appId:e,appCode:t,hrn:r,downloadManager:n}}else o=e;this.hrn=o.hrn;var i=this.hrn.resolve(),l=void 0===o.downloadManager?a.DownloadManager.instance():o.downloadManager;if(function(e){return void 0!==e.appId&&void 0!==e.appCode}(o))this.requestBuilder=new u.DataStoreAppIdRequestBuilder(l,i,o.appId,o.appCode);else{if(!function(e){return void 0!==e.getBearerToken}(o))throw new Error("Unknown authorization method");this.requestBuilder=new u.DataStoreOAuthRequestBuilder(l,i,o.getBearerToken)}}return e.prototype.getCatalogClient=function(t){return void 0===t&&(t=e.LATEST_VERSION),n(this,void 0,void 0,function(){var r,n,a,u;return o(this,function(o){switch(o.label){case 0:return t!==e.LATEST_VERSION?[3,2]:[4,i.getLatestVersion(this.requestBuilder,{startVersion:e.LATEST_VERSION})];case 1:if((r=o.sent()).version===e.LATEST_VERSION)throw new Error("Invalid version received from latest version call, cannot proceed");t=r.version,o.label=2;case 2:return n=i.getLayerVersions(this.requestBuilder,{version:t}),a=i.getCatalogsConfiguration(this.requestBuilder),[4,Promise.all([a,n])];case 3:return u=o.sent(),[2,new l.Catalog1Client(this.requestBuilder,u[0],u[1])]}})})},e.LATEST_VERSION=-1,e}();t.DataStore1Client=s},154:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function u(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,u)}l((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=n[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(36),u=r(8),l=r(23),s=r(81),c=function(){function e(e,t,r){var n,o,a,u,s=this;this.requestBuilder=e,this.configuration=t,this.layerVersions=r,this.apiVersion=1,this.layers=new Map,this.m_indexCache=new l.LRUCache(64),this.m_partitionIndexCache=new l.LRUCache(4),this.m_indexDepth=4;try{for(var c=i(t.layers),d=c.next();!d.done;d=c.next()){var p=d.value;this.layers.set(p.name,p)}}catch(e){n={error:e}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}try{for(var h=i(r.layerVersions),f=h.next();!f.done;f=h.next()){var v=f.value,y=this.layers.get(v.layer);void 0!==y&&(y.version=v.version,void 0===y.dataUrl&&(y.dataUrl=e.baseUrl))}}catch(e){a={error:e}}finally{try{f&&!f.done&&(u=h.return)&&u.call(h)}finally{if(a)throw a.error}}this.layers.forEach(function(e){void 0===e.version?s.layers.delete(e.name):(e.getTile=function(t,r){return s.getTile(e,t,r)},e.getPartition=function(t,r){return s.getPartition(e,t,r)},e.setDataProxy=function(t){return s.setDataProxy(e,t)},e.apiVersion=1,e.getIndex=function(t){return s.getIndex(e,t)})})}return e.toUrlString=function(e,t){switch(e.partitioning){case"heretile":return t.toHereTile();case"quadtree":return 0===t.level?"-":t.toQuadKey();default:throw new Error("Unknown partitioning scheme "+e.partitioning)}},e.subkeyAddFunction=function(e){switch(e.partitioning){case"heretile":return function(e,t){return e.addedSubHereTile(t)};case"quadtree":return function(e,t){return e.addedSubKey(t)};default:throw new Error("Unknown partitioning scheme "+e.partitioning)}},e.toTileKeyFunction=function(e){switch(e.partitioning){case"heretile":return function(e){return u.TileKey.fromHereTile(e)};case"quadtree":return function(e){return u.TileKey.fromQuadKey(e)};default:throw new Error("Unknown partitioning scheme "+e.partitioning)}},e.prototype.getLayer=function(e){var t=this.findLayer(e);if(void 0===t)throw new Error("Layer '"+e+"' not found in catalog");return t},e.prototype.findLayer=function(e){return this.layers.get(e)},e.prototype.getTile=function(e,t,r){return n(this,void 0,void 0,function(){var n;return o(this,function(o){switch(o.label){case 0:return[4,this.getDataTag(e,t)];case 1:return void 0===(n=o.sent())?[2,Promise.resolve(new s.Error204Response)]:[2,this.downloadTile(e,n,r)]}})})},e.prototype.getAggregatedTile=function(e,t,r){return n(this,void 0,void 0,function(){var n,i,a;return o(this,function(o){switch(o.label){case 0:return[4,this.getIndexFor(e,t)];case 1:return n=o.sent(),void 0===(i=this.findAggregatedIndex(n,t))?[2,Promise.resolve(new s.Error204Response)]:[4,this.downloadTile(e,i.dataHandle,r)];case 2:return(a=o.sent()).tileKey=i.tileKey,[2,a]}})})},e.prototype.getPartition=function(e,t,r){return n(this,void 0,void 0,function(){var n,i,a;return o(this,function(o){switch(o.label){case 0:return[4,this.getPartitionIndex(e)];case 1:if(n=o.sent(),void 0===(i=n.partitions.find(function(e){return e.partition===t})))throw new Error("Unknown partition: "+t+" in layer "+e.name);return a=this.partitionUrl(e,i),[2,this.requestBuilder.downloadData(a,r)]}})})},e.prototype.getPartitionIndex=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){switch(n.label){case 0:return void 0!==(t=this.m_partitionIndexCache.get(e.name))?[2,t]:[4,this.downloadPartitionIndex(e)];case 1:return r=n.sent(),this.m_partitionIndexCache.set(e.name,r),[2,r]}})})},e.prototype.getIndex=function(e,t){return n(this,void 0,void 0,function(){var r;return o(this,function(n){return void 0!==(r=this.findCachedIndex(e,t))?[2,r]:[2,this.downloadIndex(e,t)]})})},e.prototype.setDataProxy=function(e,t){e.dataUrl=t},e.prototype.downloadPartitionIndex=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){return[2,a.getPartitions(this.requestBuilder,{version:e.version,layer:[e.name]})]})})},e.prototype.getIndexFor=function(e,t){return n(this,void 0,void 0,function(){var r,n;return o(this,function(o){switch(o.label){case 0:for(r=this.m_indexDepth;r>=0;--r)if(void 0!==(n=this.findCachedIndex(e,t.changedLevelBy(-r))))return[2,n];return[4,this.downloadIndex(e,t.changedLevelBy(-this.m_indexDepth))];case 1:return[2,o.sent()]}})})},e.prototype.getDataTag=function(e,t){return n(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,this.getIndexFor(e,t)];case 1:return[2,r.sent().get(t.mortonCode())]}})})},e.prototype.findCachedIndex=function(e,t){var r=e.name+"/"+t.toHereTile();return this.m_indexCache.get(r)},e.prototype.cacheIndex=function(e,t){this.m_indexCache.set(e,t)},e.prototype.parseIndex=function(t,r,n){var o,a,u,l,s=e.subkeyAddFunction(t),c=e.toTileKeyFunction(t),d=new Map;if(void 0===n.subQuads)return d;try{for(var p=i(n.subQuads),h=p.next();!h.done;h=p.next()){var f=h.value,v=s(r,f.subQuadKey);d.set(v.mortonCode(),f.dataHandle)}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}try{for(var y=i(n.parentQuads),g=y.next();!g.done;g=y.next()){var m=g.value,b=c(m.partition);d.set(b.mortonCode(),m.dataHandle)}}catch(e){u={error:e}}finally{try{g&&!g.done&&(l=y.return)&&l.call(y)}finally{if(u)throw u.error}}return d},e.prototype.downloadIndex=function(t,r){return n(this,void 0,void 0,function(){var n,i,u,l;return o(this,function(o){switch(o.label){case 0:return n=t.name+"/"+r.toHereTile(),[4,a.getIndex(this.requestBuilder,{version:t.version,layer:t.name,quadKey:e.toUrlString(t,r),depth:this.m_indexDepth})];case 1:return i=o.sent(),void 0!==(u=this.m_indexCache.get(n))?[2,u]:(l=this.parseIndex(t,r,i),this.cacheIndex(n,l),[2,l])}})})},e.prototype.downloadTile=function(e,t,r){var n=this.dataUrl(e,t);return this.requestBuilder.downloadData(n,r)},e.prototype.dataUrl=function(e,t){return e.dataUrl+t},e.prototype.partitionUrl=function(e,t){return(void 0===e.dataUrl?"":e.dataUrl)+t.dataHandle},e.prototype.findAggregatedIndex=function(e,t){for(var r=t.mortonCode(),n=t.level;n>=0;--n){var o=e.get(r);if(void 0!==o)return{dataHandle:o,tileKey:u.TileKey.fromMortonCode(r)};r=u.TileKey.parentMortonCode(r)}},e}();t.Catalog1Client=c},155:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function u(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,u)}l((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=n[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(37),u=r(35),l=r(82),s=r(158);function c(e){return void 0!==e.appId&&void 0!==e.appCode}function d(e){return void 0!==e.getBearerToken}t.isAppIdAuthorization=c,t.isOAuthAuthorization=d;var p=function(){function e(e){this.apiVersion=2,this.hrn=e.hrn,this.serviceUrls=void 0===e.serviceUrls?{}:e.serviceUrls;var t=void 0===e.downloadManager?u.DownloadManager.instance():e.downloadManager,r=void 0===this.serviceUrls.discovery?"https://discovery.datastore.sit.api.here.com/v1/discover/catalogs":this.serviceUrls.discovery;if(c(e))this.discoveryRequestBuilder=new l.DataStoreAppIdRequestBuilder(t,r,e.appId,e.appCode);else{if(!d(e))throw new Error("Unknown authorization method");this.discoveryRequestBuilder=new l.DataStoreOAuthRequestBuilder(t,r,e.getBearerToken)}}return e.prototype.getCatalogClient=function(t){return void 0===t&&(t=e.LATEST_VERSION),n(this,void 0,void 0,function(){var r,n,i,u,l;return o(this,function(o){switch(o.label){case 0:return[4,this.getRequestBuilders()];case 1:return r=o.sent(),t!==e.LATEST_VERSION?[3,3]:[4,a.latestVersionUsingGET(r.metaDataApiRequestBuilder,{catalogId:this.hrn.data.resource,startVersion:e.LATEST_VERSION})];case 2:if(void 0===(n=o.sent()).version||-1===n.version)throw new Error("Invalid version received from latest version call, cannot proceed");t=n.version,o.label=3;case 3:return i=a.layerVersionsForCatalogUsingGET(r.metaDataApiRequestBuilder,{catalogId:this.hrn.data.resource,version:t}),u=a.getCatalogUsingGET(r.configApiRequestBuilder,{catalogHrn:this.hrn.toString()}),[4,Promise.all([u,i])];case 4:return l=o.sent(),[2,new s.Catalog2Client({configuration:l[0],layerVersions:l[1],metaDataRequestBuilder:r.metaDataApiRequestBuilder,queryRequestBuilder:r.queryApiRequestBuilder,blobStoreRequestBuilder:r.blobstoreApiRequestBuilder,volatileBlobRequestBuilder:r.volatileBlobApiRequestBuilder,coverageRequestBuilder:r.coverageApiRequestBuilder,artifactRequestBuilder:r.artifactApiRequestBuilder})]}})})},e.prototype.getBaseUrl=function(e,t,r){var n,o,a=this.serviceUrls[r];if(void 0!==a)return a;if(void 0!==e.endpoints)try{for(var u=i(e.endpoints),l=u.next();!l.done;l=u.next()){var s=l.value;if(s.service===t&&s.api===r&&void 0!==s.baseUrl)return s.baseUrl}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}throw new Error("Unable to determine "+t+" "+r+" base URL")},e.prototype.getRequestBuilders=function(){return n(this,void 0,void 0,function(){var e,t,r,n,i,a,u,l;return o(this,function(o){return Object.assign(this.serviceUrls,this.bypassDiscovery()),e={},t=this.getBaseUrl(e,"datastore","metadata"),r=this.getBaseUrl(e,"datastore","query"),n=this.getBaseUrl(e,"datastore","blobstore"),i=this.getBaseUrl(e,"datastore","volatile-blob"),a=this.getBaseUrl(e,"datastore","config"),u=this.getBaseUrl(e,"datastore","coverage"),l=this.getBaseUrl(e,"datastore","artifact"),[2,{configApiRequestBuilder:this.discoveryRequestBuilder.clone(a),blobstoreApiRequestBuilder:this.discoveryRequestBuilder.clone(n),volatileBlobApiRequestBuilder:this.discoveryRequestBuilder.clone(i),queryApiRequestBuilder:this.discoveryRequestBuilder.clone(r),metaDataApiRequestBuilder:this.discoveryRequestBuilder.clone(t),coverageApiRequestBuilder:this.discoveryRequestBuilder.clone(u),artifactApiRequestBuilder:this.discoveryRequestBuilder.clone(l)}]})})},e.prototype.bypassDiscovery=function(){var e,t,r={},n="here-dev"===this.hrn.data.partition?".in":"";try{for(var o=i(["metadata","query","blobstore","volatile-blob","config","coverage","artifact"]),a=o.next();!a.done;a=o.next()){var u=a.value;r[u]=void 0===this.serviceUrls[u]?"https://"+u+("artifact"===u?"":".data")+".api.platform"+n+".here.com":this.serviceUrls[u]}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r},e.LATEST_VERSION=-1,e}();t.DataStore2Client=p},156:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function u(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,u)}l((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=n[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(6),a=function(){function e(e){var t=this;this.executor=e,this.doExec=!1,this.promise=new Promise(function(e,r){t.resolveFunc=e,t.rejectFunc=r,t.doExec&&t.execInnerPromise(t.resolveFunc,t.rejectFunc)})}return e.prototype.exec=function(){void 0!==this.resolveFunc&&void 0!==this.rejectFunc?this.execInnerPromise(this.resolveFunc,this.rejectFunc):this.doExec=!0},e.prototype.execInnerPromise=function(e,t){this.executor().then(function(t){return e(t)}).catch(function(e){return t(e)})},e}(),u=function(){function e(e,t){void 0===e&&(e=i.fetch),void 0===t&&(t=5),this.fetch=e,this.maxRetries=t,this.activeDownloadCount=0,this.downloadQueue=new Array,this.activeDownloads=new Map}return e.instance=function(){return e.defaultInstance},e.fetchRepeatedly=function(t,r,i,a,u){return n(this,void 0,void 0,function(){var n,l;return o(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,t(a,u)];case 1:return 503!==(n=o.sent()).status||r>i?[2,n]:[3,3];case 2:if((l=o.sent()).hasOwnProperty("isCancelled")||r>i)throw l;return[3,3];case 3:return[2,e.waitFor(e.retryTimeout*r).then(function(){return e.fetchRepeatedly(t,i,r+1,a,u)})]}})})},e.waitFor=function(e){return new Promise(function(t){return setTimeout(t,e)})},e.prototype.downloadJson=function(e,t){return void 0===t?t={responseType:"json"}:void 0===t.responseType&&(t.responseType="json"),this.downloadAs(function(e){return e.json()},e,t)},e.prototype.download=function(t,r){var n=this;if(this.activeDownloadCount>=e.maxParallelDownloads){var o=new a(function(){return n.doDownload(t,r)});return this.downloadQueue.push(o),o.promise}return this.doDownload(t,r)},e.prototype.doDownload=function(t,r){var n=this;return++this.activeDownloadCount,e.fetchRepeatedly(this.fetch,0,this.maxRetries,t,r).then(function(e){return n.onDownloadDone(),e}).catch(function(e){throw n.onDownloadDone(),e})},e.prototype.onDownloadDone=function(){--this.activeDownloadCount,this.execDeferredDownload()},e.prototype.execDeferredDownload=function(){var e=this.downloadQueue.pop();void 0!==e&&e.exec()},e.prototype.downloadAs=function(e,t,r){var n=this,o=t,i=this.activeDownloads.get(o);if(void 0!==i)return Promise.resolve(i);var a=this.download(t,r).then(function(t){if(n.activeDownloads.delete(o),t.ok)return e(t);throw new Error(JSON.stringify(t))}).catch(function(e){throw n.activeDownloads.delete(o),e});return this.activeDownloads.set(o,a),a},e.retryTimeout=500,e.maxParallelDownloads=16,e.defaultInstance=new e,e}();t.DownloadManager=u},157:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(22));var n=r(36);t.ApiV1=n;var o=r(37);t.ApiV2=o},158:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function u(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,u)}l((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=n[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var a,u=r(37),l=r(159),s=r(22),c=r(8),d=r(23),p=r(81),h=r(80);!function(e){e.BITMAP="bitmap",e.SIZEMAP="sizemap",e.TIMEMAP="timemap"}(a||(a={}));var f=function(){function e(e){var t=this;this.apiVersion=2,this.layers=new Map,this.indexCache=new d.LRUCache(64),this.schemeCache=new d.LRUCache(64),this.partitionIndexCache=new d.LRUCache(4),this.indexDepth=4,this.catalog=e.configuration,this.metaDataRequestBuilder=e.metaDataRequestBuilder,this.queryRequestBuilder=e.queryRequestBuilder,this.blobStoreRequestBuilder=e.blobStoreRequestBuilder,this.volatileBlobRequestBuilder=e.volatileBlobRequestBuilder,this.artifactRequestBuilder=e.artifactRequestBuilder,this.coverageRequestBuilder=e.coverageRequestBuilder,this.version=e.layerVersions.version;var r,n,o=new Map(e.layerVersions.layerVersions.map(function(e){return[e.layer,e.version]})),a=function(e){var r=e;r.apiVersion=2,r.version=o.get(r.id),r.getTile=function(e,n){return t.getTile(r,e,n)},r.getPartition=function(e,n){return t.getPartition(r,e,n)},r.setDataProxy=function(e){return t.setDataProxy(r,e)},r.getIndex=function(e){return t.getIndex(r,e)},r.getSchemaDetails=function(){return t.getSchemaDetails(r)},r.getSchema=function(e){return t.getSchema(r,e)},r.getSchema=function(e){return t.getSchema(r,e)},r.getDataCoverageBitmap=function(e){return t.getDataCoverageBitmap(r,e)},r.getDataCoverageSizeMap=function(e){return t.getDataCoverageSizeMap(r,e)},r.getDataCoverageTimeMap=function(e){return t.getDataCoverageTimeMap(r,e)},u.layers.set(e.id,r)},u=this;try{for(var l=i(e.configuration.layers),s=l.next();!s.done;s=l.next()){a(s.value)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}}return e.toUrlString=function(e,t){switch(e.partitioningScheme){case"heretile":return t.toHereTile();default:throw new Error("Unknown partitioning scheme "+e.partitioningScheme)}},e.subkeyAddFunction=function(e){switch(e.partitioningScheme){case"heretile":return function(e,t){return e.addedSubHereTile(t)};default:throw new Error("Unknown partitioning scheme "+e.partitioningScheme)}},e.toTileKeyFunction=function(e){switch(e.partitioningScheme){case"heretile":return function(e){return c.TileKey.fromHereTile(e)};default:throw new Error("Unknown partitioning scheme "+e.partitioningScheme)}},e.prototype.setDataProxy=function(e,t){throw new Error("Not implemented")},e.prototype.getPartitionIndex=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){switch(n.label){case 0:return void 0!==(t=this.partitionIndexCache.get(e.id))?[2,t]:[4,this.downloadPartitionIndex(e)];case 1:return r=n.sent(),this.partitionIndexCache.set(e.id,r),[2,r]}})})},e.prototype.getIndex=function(e,t){return n(this,void 0,void 0,function(){var r;return o(this,function(n){return void 0!==(r=this.findCachedIndex(e,t))?[2,r]:[2,this.downloadIndex(e,t)]})})},e.prototype.downloadData=function(e,t){return this.blobStoreRequestBuilder.downloadData(e,t)},e.prototype.getLayer=function(e){var t=this.findLayer(e);if(void 0===t)throw new Error("Layer '"+e+"' not found in catalog");return t},e.prototype.findLayer=function(e){return this.layers.get(e)},e.prototype.getTile=function(e,t,r){return n(this,void 0,void 0,function(){var n;return o(this,function(o){switch(o.label){case 0:return[4,this.getDataTag(e,t)];case 1:return void 0===(n=o.sent())?[2,Promise.resolve(new p.Error204Response)]:[2,this.downloadTile(e,n,r)]}})})},e.prototype.getAggregatedTile=function(e,t,r){return n(this,void 0,void 0,function(){var n,i,a;return o(this,function(o){switch(o.label){case 0:return[4,this.getIndexFor(e,t)];case 1:return n=o.sent(),void 0===(i=this.findAggregatedIndex(n,t))?[2,Promise.resolve(new p.Error204Response)]:[4,this.downloadTile(e,i.dataHandle,r)];case 2:return(a=o.sent()).tileKey=i.tileKey,[2,a]}})})},e.prototype.getPartition=function(e,t,r){return n(this,void 0,void 0,function(){var n,i,a;return o(this,function(o){switch(o.label){case 0:return[4,this.getPartitionIndex(e)];case 1:if(n=o.sent(),void 0===(i=n.partitions.find(function(e){return e.partition===t})))throw new Error("Unknown partition: "+t+" in layer "+e.id);return a=this.partitionUrl(e,i),[2,this.downloadData(a,r)]}})})},e.prototype.getSchema=function(e,t){return n(this,void 0,void 0,function(){var r,n,i,a,u;return o(this,function(o){switch(o.label){case 0:if(void 0===e.schema||void 0===e.schema.hrn)throw new Error("Required property 'schema.hrn' missing in the layer "+e);return[4,this.getSchemaDetails(e)];case 1:if(r=o.sent(),void 0===(n=r.variants.find(function(e){return"ds"===e.id})))throw new Error("URL of the schema bundle is not found: "+r);return i=this.artifactRequestBuilder.baseUrl+"/v1"+n.url,[4,this.downloadData(i,t).catch(function(){throw new Error("Cannot download Schema bundle: "+e.schema)})];case 2:switch((a=o.sent()).status){case 401:u="You are not authorized to view the schema";break;case 403:u="Accessing the schema is forbidden";break;case 404:u="The schema was not found";break;case 500:u="Internal server error"}switch(a.status){case 200:return[2,a.arrayBuffer()];case 401:case 403:case 404:case 500:default:throw new p.ErrorHTTPResponse("Artifact Service error: HTTP "+a.status+": "+(""!==a.statusText?a.statusText:u),a)}return[2]}})})},e.prototype.getSchemaDetails=function(e){return n(this,void 0,void 0,function(){var t,r,n;return o(this,function(o){switch(o.label){case 0:if(void 0!==(t=this.findCachedScheme(e)))return[2,t];if(void 0===e.schema||void 0===e.schema.hrn)throw new Error("Required property 'schema.hrn' missing in layer "+e.name);return[4,l.getSchemaUsingGET(this.artifactRequestBuilder,{schemaHrn:e.schema.hrn}).catch(function(){throw new Error("Cannot get schema details: "+e.schema.hrn)})];case 1:return r=o.sent(),void 0!==(t=this.findCachedScheme(e))?[2,t]:[4,Promise.resolve(r)];case 2:return n=o.sent(),this.cacheScheme(e,n),[2,n]}})})},e.prototype.getDataCoverageBitmap=function(e,t){return n(this,void 0,void 0,function(){return o(this,function(r){return[2,this.getDataCoverage(a.BITMAP,e,t)]})})},e.prototype.getDataCoverageSizeMap=function(e,t){return n(this,void 0,void 0,function(){return o(this,function(r){return[2,this.getDataCoverage(a.SIZEMAP,e,t)]})})},e.prototype.getDataCoverageTimeMap=function(e,t){return n(this,void 0,void 0,function(){return o(this,function(r){return[2,this.getDataCoverage(a.TIMEMAP,e,t)]})})},e.prototype.getLatestVersion=function(e){return void 0===e&&(e=-1),n(this,void 0,void 0,function(){var t;return o(this,function(r){return t=h.HRN.fromString(this.catalog.hrn).data.resource,[2,u.latestVersionUsingGET(this.metaDataRequestBuilder,{catalogId:t,startVersion:e})]})})},e.prototype.getVersions=function(e,t){return void 0===e&&(e=-1),n(this,void 0,void 0,function(){var r,n;return o(this,function(o){switch(o.label){case 0:return r=h.HRN.fromString(this.catalog.hrn).data.resource,void 0!==t?[3,2]:[4,this.getLatestVersion(e)];case 1:n=o.sent(),t=n.version,o.label=2;case 2:return[2,u.listVersionsUsingGET(this.metaDataRequestBuilder,{catalogId:r,startVersion:e,endVersion:t})]}})})},e.prototype.coverageUrl=function(e,t){var r="/datacoverage/v1/catalogs/"+this.catalog.hrn+"/layers/"+e.id+"/"+t.toString();return this.coverageRequestBuilder.baseUrl+r},e.prototype.downloadPartitionIndex=function(e){return n(this,void 0,void 0,function(){return o(this,function(t){if(void 0===e.version)throw new Error("Unable to download partitions for unversioned layer "+e.id);return[2,u.getPartitionsUsingGET(this.metaDataRequestBuilder,{version:e.version,layerId:e.id,catalogId:this.catalog.id})]})})},e.prototype.getIndexFor=function(e,t){return n(this,void 0,void 0,function(){var r,n;return o(this,function(o){switch(o.label){case 0:for(r=this.indexDepth;r>=0;--r)if(void 0!==(n=this.findCachedIndex(e,t.changedLevelBy(-r))))return[2,n];return[4,this.downloadIndex(e,t.changedLevelBy(-this.indexDepth))];case 1:return[2,o.sent()]}})})},e.prototype.getDataCoverage=function(e,t,r){return n(this,void 0,void 0,function(){var n,i,a,u;return o(this,function(o){switch(o.label){case 0:return n=this.coverageUrl(t,e),i=new s.UrlBuilder(n),void 0!==this.version&&i.appendQuery("version",this.version),[4,this.coverageRequestBuilder.downloadData(i.url,r).catch(function(e){throw new Error("Coverage Service error: "+e)})];case 1:switch((a=o.sent()).status){case 400:u="Bad request, incorrect version type";break;case 404:u="Requested file does not exist";break;case 500:u="Internal server error"}switch(a.status){case 200:return[2,a.arrayBuffer()];case 400:case 404:case 500:default:throw new p.ErrorHTTPResponse("Coverage Service error: HTTP "+a.status+": "+(""!==a.statusText?a.statusText:u),a)}return[2]}})})},e.prototype.getDataTag=function(e,t){return n(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return"volatile"===e.layerType?[2,t.toHereTile()]:[4,this.getIndexFor(e,t)];case 1:return[2,r.sent().get(t.mortonCode())]}})})},e.prototype.findCachedIndex=function(e,t){var r=e.id+"/"+t.toHereTile();return this.indexCache.get(r)},e.prototype.cacheIndex=function(e,t){this.indexCache.set(e,t)},e.prototype.cacheScheme=function(e,t){this.schemeCache.set(e.id,t)},e.prototype.findCachedScheme=function(e){return this.schemeCache.get(e.id)},e.prototype.parseIndex=function(t,r,n){var o,a,u,l,s=e.subkeyAddFunction(t),c=e.toTileKeyFunction(t),d=new Map;if(void 0===n.subQuads)return d;try{for(var p=i(n.subQuads),h=p.next();!h.done;h=p.next()){var f=h.value,v=s(r,f.subQuadKey);d.set(v.mortonCode(),f.dataHandle)}}catch(e){o={error:e}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}if(void 0!==n.parentQuads)try{for(var y=i(n.parentQuads),g=y.next();!g.done;g=y.next()){var m=g.value,b=c(m.partition);d.set(b.mortonCode(),m.dataHandle)}}catch(e){u={error:e}}finally{try{g&&!g.done&&(l=y.return)&&l.call(y)}finally{if(u)throw u.error}}return d},e.prototype.downloadIndex=function(t,r){return n(this,void 0,void 0,function(){var n,i,a,l;return o(this,function(o){switch(o.label){case 0:if(void 0===t.version)throw new Error("Unable to download tiles for unversioned layer "+t.id);return n=t.id+"/"+r.toHereTile(),[4,u.quadTreeIndexUsingGET(this.queryRequestBuilder,{version:t.version,catalogId:this.catalog.id,layerId:t.id,quadKey:e.toUrlString(t,r),depth:this.indexDepth})];case 1:return i=o.sent(),void 0!==(a=this.indexCache.get(n))?[2,a]:(l=this.parseIndex(t,r,i),this.cacheIndex(n,l),[2,l])}})})},e.prototype.downloadTile=function(e,t,r){var n=this.dataUrl(e,t);return this.downloadData(n,r)},e.prototype.dataUrl=function(e,t){var r="/blobstore/v1/catalogs/"+this.catalog.id+"/layers/"+e.id+"/data/"+t;return"volatile"===e.layerType?this.volatileBlobRequestBuilder.baseUrl+r:this.blobStoreRequestBuilder.baseUrl+r},e.prototype.partitionUrl=function(e,t){if(void 0===t.dataHandle)throw new Error("### FIX SPEC");return this.dataUrl(e,t.dataHandle)},e.prototype.findAggregatedIndex=function(e,t){for(var r=t.mortonCode(),n=t.level;n>=0;--n){var o=e.get(r);if(void 0!==o)return{dataHandle:o,tileKey:c.TileKey.fromMortonCode(r)};r=c.TileKey.parentMortonCode(r)}},e}();t.Catalog2Client=f},159:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22);t.deleteArtifactUsingDELETE=function(e,t){var r="/v1/artifact/{artifactHrn}".replace("{artifactHrn}",n.UrlBuilder.toString(t.artifactHrn)),o=new n.UrlBuilder(e.baseUrl+r),i={method:"DELETE",headers:{}};return e.request(o,i)},t.deleteFileUsingDELETE=function(e,t){var r="/v1/artifact/{artifactHrn}/**".replace("{artifactHrn}",n.UrlBuilder.toString(t.artifactHrn)),o=new n.UrlBuilder(e.baseUrl+r),i={method:"DELETE",headers:{}};return e.request(o,i)},t.getArtifactFileUsingGET=function(e,t){var r="/v1/artifact/{artifactHrn}/**".replace("{artifactHrn}",n.UrlBuilder.toString(t.artifactHrn)),o=new n.UrlBuilder(e.baseUrl+r),i={method:"GET",headers:{}};return e.request(o,i)},t.getArtifactUsingGET=function(e,t){var r="/v1/artifact/{artifactHrn}".replace("{artifactHrn}",n.UrlBuilder.toString(t.artifactHrn)),o=new n.UrlBuilder(e.baseUrl+r),i={method:"GET",headers:{}};return e.request(o,i)},t.putArtifactFileUsingPUT=function(e,t){var r="/v1/artifact/{artifactHrn}/**".replace("{artifactHrn}",n.UrlBuilder.toString(t.artifactHrn)),o=new n.UrlBuilder(e.baseUrl+r),i={},a={method:"PUT",headers:i};return void 0!==t.authorizationClaims&&(i["authorization-claims"]=t.authorizationClaims),e.request(o,a)},t.registerArtifactUsingPUT=function(e,t){var r="/v1/artifact/register/{groupId}/{artifactId}".replace("{groupId}",n.UrlBuilder.toString(t.groupId)).replace("{artifactId}",n.UrlBuilder.toString(t.artifactId)),o=new n.UrlBuilder(e.baseUrl+r),i={},a={method:"PUT",headers:i};return i["Content-Type"]="application/json",void 0!==t.registerRequest&&(a.body=JSON.stringify(t.registerRequest)),void 0!==t.authorizationClaims&&(i["authorization-claims"]=t.authorizationClaims),e.request(o,a)},t.deleteSchemaUsingDELETE=function(e,t){var r="/v1/schema/{schemaHrn}".replace("{schemaHrn}",n.UrlBuilder.toString(t.schemaHrn)),o=new n.UrlBuilder(e.baseUrl+r),i={method:"DELETE",headers:{}};return e.request(o,i)},t.getDocumentUsingGET=function(e,t){var r="/v1/schema/{schemaHrn}/doc/{file}".replace("{schemaHrn}",n.UrlBuilder.toString(t.schemaHrn)).replace("{file}",n.UrlBuilder.toString(t.file)),o=new n.UrlBuilder(e.baseUrl+r),i={method:"GET",headers:{}};return e.request(o,i)},t.getSchemaUsingGET=function(e,t){var r="/v1/schema/{schemaHrn}".replace("{schemaHrn}",n.UrlBuilder.toString(t.schemaHrn)),o=new n.UrlBuilder(e.baseUrl+r),i={method:"GET",headers:{}};return e.request(o,i)},t.listUsingGET=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v1/schema");r.appendQuery("sort",t.sort),r.appendQuery("order",t.order),r.appendQuery("from",t.from),r.appendQuery("limit",t.limit);var o={method:"GET",headers:{}};return e.request(r,o)},t.updateSchemaPermissionUsingPOST=function(e,t){var r="/v1/schema/{schemaHrn}/permission".replace("{schemaHrn}",n.UrlBuilder.toString(t.schemaHrn)),o=new n.UrlBuilder(e.baseUrl+r),i={},a={method:"POST",headers:i};return i["Content-Type"]="application/json",void 0!==t.updatePermissionRequest&&(a.body=JSON.stringify(t.updatePermissionRequest)),e.request(o,a)}},16:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.EQUATORIAL_CIRCUMFERENCE=40075016.68557849,e}();t.EarthConstants=n},161:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(80);t.hrn=n.HRN.fromString("hrn:here-dev:datastore:::verity-mvt-1"),t.appId="inzUjEph5FuS6Uxefasa",t.appCode="r7BX5UxknW5LnOxVeG4nzg"},198:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(204)),n(r(205)),n(r(80))},204:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(153),o=r(155),i=r(153);t.DataStoreClient=i.DataStore1Client,t.DataStoreClientParameters=i.DataStoreClient1Parameters,t.createDataStoreClient=function(e){switch(e.hrn.data.service){case"datastore":return new n.DataStore1Client(e);case"data":return new o.DataStore2Client(e);default:throw new Error("Unknown service "+e.hrn.data.service)}}},205:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(81);t.IndexMap=n.IndexMap,t.AggregatedDownloadResponse=n.AggregatedDownloadResponse;var o=r(154);t.CatalogClient=o.Catalog1Client,t.CatalogLayer=o.Catalog1Layer},22:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){void 0===t&&(t=!1),this.url=e,this.hasQuery=t}return e.stringifyQuery=function(t){var r="";for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];void 0!==o&&(r=e.appendQueryString(r,"",n,o))}return r},e.toString=function(e){return"string"==typeof e?e:e.toString()},e.appendQueryString=function(e,t,r,n){return e+=t,e+=encodeURIComponent(r)+"=",e+="number"==typeof n?n.toString():"string"==typeof n?encodeURIComponent(n):n.map(function(e){return encodeURIComponent(e)}).join(",")},e.prototype.appendQuery=function(t,r){void 0!==r&&(this.url=e.appendQueryString(this.url,this.hasQuery?"&":"?",t,r),this.hasQuery=!0)},e}();t.UrlBuilder=n;var o=function(){function e(e){this.baseUrl=e}return e.prototype.request=function(e,t){return this.download(e.url,t)},e}();t.RequestBuilder=o},23:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(48)),n(r(112))},25:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(7),i=r(12),a=r(16),u=function(){function e(){}return e.clamp=function(e,t,r){return Math.min(Math.max(t,e),r)},e.latitudeClamp=function(t){return e.clamp(t,-e.MAXIMUM_LATITUDE,e.MAXIMUM_LATITUDE)},e.latitudeProject=function(e){return Math.log(Math.tan(.25*Math.PI+.5*e))/Math.PI},e.latitudeClampProject=function(t){return e.latitudeProject(e.latitudeClamp(t))},e.unprojectLatitude=function(e){return 2*Math.atan(Math.exp(Math.PI*e))-.5*Math.PI},e.prototype.getScaleFactor=function(e){return Math.cosh(2*Math.PI*(e.y/a.EarthConstants.EQUATORIAL_CIRCUMFERENCE-.5))},e.prototype.worldExtent=function(e,t,r){return r||(r=i.MathUtils.newEmptyBox3()),r.min.x=0,r.min.y=0,r.min.z=e,r.max.x=a.EarthConstants.EQUATORIAL_CIRCUMFERENCE,r.max.y=a.EarthConstants.EQUATORIAL_CIRCUMFERENCE,r.max.z=t,r},e.prototype.projectPoint=function(t,r){var n;return n=t instanceof o.GeoCoordinates?t.normalized():new o.GeoCoordinates(t.latitude,t.longitude,t.altitude).normalized(),r||(r={x:0,y:0,z:0}),r.x=(n.longitude+180)/360*a.EarthConstants.EQUATORIAL_CIRCUMFERENCE,r.y=(.5*e.latitudeClampProject(n.latitudeInRadians)+.5)*a.EarthConstants.EQUATORIAL_CIRCUMFERENCE,r.z=t.altitude||0,r},e.prototype.unprojectPoint=function(t){return o.GeoCoordinates.fromRadians(e.unprojectLatitude(2*(t.y/a.EarthConstants.EQUATORIAL_CIRCUMFERENCE-.5)),t.x/a.EarthConstants.EQUATORIAL_CIRCUMFERENCE*2*Math.PI-Math.PI,t.z)},e.prototype.projectBox=function(t,r){var n=t.center,u=this.projectPoint(new o.GeoCoordinates(n.latitude,n.longitude,0)),l=(.5*e.latitudeClampProject(t.northEast.latitudeInRadians)+.5)*a.EarthConstants.EQUATORIAL_CIRCUMFERENCE,s=(.5*e.latitudeClampProject(t.southWest.latitudeInRadians)+.5)*a.EarthConstants.EQUATORIAL_CIRCUMFERENCE,c=.5*(l+s);u.y=c;var d=l-s,p=t.longitudeSpan/360*a.EarthConstants.EQUATORIAL_CIRCUMFERENCE;r||(r=i.MathUtils.newEmptyBox3()),r.min.x=u.x-.5*p,r.min.y=u.y-.5*d,r.max.x=u.x+.5*p,r.max.y=u.y+.5*d;var h=t.altitudeSpan;return void 0!==h?(r.min.z=u.z-.5*h,r.max.z=u.z+.5*h):(r.min.z=0,r.max.z=0),r},e.prototype.unprojectBox=function(e){var t=this.unprojectPoint(e.min),r=this.unprojectPoint(e.max);return n.GeoBox.fromCoordinates(t,r)},e.MAXIMUM_LATITUDE=1.4844222297453322,e}();t.MercatorProjection=u,t.mercatorProjection=new u},26:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.getSubdivisionX=function(){return 2},e.prototype.getSubdivisionY=function(){return 2},e.prototype.getLevelDimensionX=function(e){return 1<<e},e.prototype.getLevelDimensionY=function(e){return 1<<e},e}();t.quadTreeSubdivisionScheme=new n},27:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Log=2]="Log",e[e.Info=3]="Info",e[e.Warn=4]="Warn",e[e.Error=5]="Error"}(t.LogLevel||(t.LogLevel={}));var n=function(){return function(){}}();t.LoggerOptions=n},35:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(156))},36:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22);t.deleteConfiguration=function(e,t){var r="/v2/admin/catalog/{catalog}".replace("{catalog}",n.UrlBuilder.toString(t.catalog)),o=new n.UrlBuilder(e.baseUrl+r),i={method:"DELETE",headers:{}};return e.request(o,i)},t.getCatalogConfiguration=function(e,t){var r="/v2/admin/catalog/{catalog}".replace("{catalog}",n.UrlBuilder.toString(t.catalog)),o=new n.UrlBuilder(e.baseUrl+r),i={method:"GET",headers:{}};return e.request(o,i)},t.getCatalogs=function(e){var t=new n.UrlBuilder(e.baseUrl+"/v2/admin/catalogs"),r={method:"GET",headers:{}};return e.request(t,r)},t.getIndexStatistics=function(e){var t=new n.UrlBuilder(e.baseUrl+"/v2/admin/indexStatistics"),r={method:"GET",headers:{}};return e.request(t,r)},t.putCatalogConfiguration=function(e,t){var r="/v2/admin/catalog/{catalog}".replace("{catalog}",n.UrlBuilder.toString(t.catalog)),o=new n.UrlBuilder(e.baseUrl+r),i={},a={method:"PUT",headers:i};return i["Content-Type"]="application/json",void 0!==t.configuration&&(a.body=JSON.stringify(t.configuration)),e.request(o,a)},t.getCatalogsConfiguration=function(e){var t=new n.UrlBuilder(e.baseUrl+"/v2/catalog/configuration"),r={method:"GET",headers:{}};return e.request(t,r)},t.getChangeHistory=function(e,t){var r="/v2/catalog/changeHistory/{layer}/{partition}".replace("{layer}",n.UrlBuilder.toString(t.layer)).replace("{partition}",n.UrlBuilder.toString(t.partition)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("version",t.version),o.appendQuery("direction",t.direction),o.appendQuery("limit",t.limit),o.appendQuery("additionalFields",t.additionalFields);var i={method:"GET",headers:{}};return e.request(o,i)},t.getChanges=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/catalog/changes");r.appendQuery("layer",t.layer),r.appendQuery("partition",t.partition),r.appendQuery("startVersion",t.startVersion),r.appendQuery("endVersion",t.endVersion),r.appendQuery("additionalFields",t.additionalFields),r.appendQuery("range",t.range);var o={method:"GET",headers:{}};return e.request(r,o)},t.getChangesStatistics=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/catalog/changes/changesetStatistics");r.appendQuery("startVersion",t.startVersion),r.appendQuery("endVersion",t.endVersion);var o={},i={method:"POST",headers:o};return o["Content-Type"]="application/json",void 0!==t.body&&(i.body=JSON.stringify(t.body)),e.request(r,i)},t.getChangesetStatistics=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/catalog/statistics/changeset");r.appendQuery("token",t.token);var o={method:"GET",headers:{}};return e.request(r,o)},t.getInfo=function(e){var t=new n.UrlBuilder(e.baseUrl+"/v2/catalog/info"),r={method:"GET",headers:{}};return e.request(t,r)},t.getLatestVersion=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/catalog/versions/latest");r.appendQuery("startVersion",t.startVersion);var o={method:"GET",headers:{}};return e.request(r,o)},t.getLayerVersions=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/catalog/layerVersions");r.appendQuery("version",t.version);var o={method:"GET",headers:{}};return e.request(r,o)},t.getPartition=function(e,t){var r="/v2/catalog/partition/{layer}/{partition}".replace("{layer}",n.UrlBuilder.toString(t.layer)).replace("{partition}",n.UrlBuilder.toString(t.partition)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("version",t.version);var i={method:"GET",headers:{}};return e.request(o,i)},t.getPartitions=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/catalog/partitions");r.appendQuery("version",t.version),r.appendQuery("layer",t.layer),r.appendQuery("partition",t.partition),r.appendQuery("additionalFields",t.additionalFields),r.appendQuery("range",t.range);var o={method:"GET",headers:{}};return e.request(r,o)},t.getPartitionsStatistics=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/catalog/partitions/changesetStatistics");r.appendQuery("version",t.version);var o={},i={method:"POST",headers:o};return o["Content-Type"]="application/json",void 0!==t.body&&(i.body=JSON.stringify(t.body)),e.request(r,i)},t.getVersions=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/catalog/versions");r.appendQuery("startVersion",t.startVersion),r.appendQuery("endVersion",t.endVersion),r.appendQuery("limit",t.limit);var o={method:"GET",headers:{}};return e.request(r,o)},t.queryPartitions=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/catalog/queryPartitions");r.appendQuery("additionalFields",t.additionalFields),r.appendQuery("range",t.range);var o={},i={method:"POST",headers:o};return o["Content-Type"]="application/json",void 0!==t.body&&(i.body=JSON.stringify(t.body)),e.request(r,i)},t.resetCatalog=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/admin/reset"),o={},i={method:"PUT",headers:o};return o["Content-Type"]="application/json",void 0!==t.configuration&&(i.body=JSON.stringify(t.configuration)),e.request(r,i)},t.getConfiguration=function(e){var t=new n.UrlBuilder(e.baseUrl+"/v2/config"),r={method:"GET",headers:{}};return e.request(t,r)},t.putConfiguration=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/config"),o={},i={method:"PUT",headers:o};return o["Content-Type"]="application/json",void 0!==t.configuration&&(i.body=JSON.stringify(t.configuration)),e.request(r,i)},t.getIndex=function(e,t){var r="/v2/index/{version}/{layer}/{quadKey}/{depth}".replace("{version}",n.UrlBuilder.toString(t.version)).replace("{layer}",n.UrlBuilder.toString(t.layer)).replace("{quadKey}",n.UrlBuilder.toString(t.quadKey)).replace("{depth}",n.UrlBuilder.toString(t.depth)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("additionalFields",t.additionalFields);var i={method:"GET",headers:{}};return e.request(o,i)},t.compare=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/publish/compare");r.appendQuery("baseVersion",t.baseVersion);var o={},i={method:"POST",headers:o};return o["Content-Type"]="application/json",void 0!==t.body&&(i.body=JSON.stringify(t.body)),e.request(r,i)},t.deleteRetiredVersions=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/publish/deleteRetiredVersions");r.appendQuery("newMinimumVersion",t.newMinimumVersion);var o={method:"POST",headers:{}};return e.request(r,o)},t.getDeletableData=function(e){var t=new n.UrlBuilder(e.baseUrl+"/v2/publish/deletableData"),r={method:"GET",headers:{}};return e.request(t,r)},t.multipartAbort=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/publish/multipart/abort");r.appendQuery("token",t.token);var o={method:"POST",headers:{}};return e.request(r,o)},t.multipartCommit=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/publish/multipart/commit");r.appendQuery("token",t.token);var o={},i={method:"POST",headers:o};return o["Content-Type"]="application/json",void 0!==t.body&&(i.body=JSON.stringify(t.body)),e.request(r,i)},t.multipartGetPartUrl=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/publish/multipart/getPartUrl");r.appendQuery("token",t.token),r.appendQuery("contentType",t.contentType);var o={method:"POST",headers:{}};return e.request(r,o)},t.multipartStart=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/publish/multipart/start");r.appendQuery("baseVersion",t.baseVersion);var o={},i={method:"POST",headers:o};return o["Content-Type"]="application/json",void 0!==t.body&&(i.body=JSON.stringify(t.body)),e.request(r,i)},t.multipartStatus=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/publish/multipart/status");r.appendQuery("token",t.token);var o={method:"GET",headers:{}};return e.request(r,o)},t.retire=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/v2/publish/retire");r.appendQuery("newMinimumVersion",t.newMinimumVersion);var o={method:"POST",headers:{}};return e.request(r,o)}},37:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22);t.checkHandleExistsUsingHEAD=function(e,t){var r="/blobstore/v1/catalogs/{catalogId}/layers/{layerId}/data/{dataHandle}".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)).replace("{dataHandle}",n.UrlBuilder.toString(t.dataHandle)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={method:"HEAD",headers:{}};return e.request(o,i)},t.completeMultipartUsingPUT=function(e,t){var r="/blobstore/v1/catalogs/{catalogId}/layers/{layerId}/data/{dataHandle}/multiparts/{multiPartToken}".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)).replace("{dataHandle}",n.UrlBuilder.toString(t.dataHandle)).replace("{multiPartToken}",n.UrlBuilder.toString(t.multiPartToken)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={},a={method:"PUT",headers:i};return i["Content-Type"]="application/json",void 0!==t.parts&&(a.body=JSON.stringify(t.parts)),e.request(o,a)},t.deleteMultipartUsingDELETE=function(e,t){var r="/blobstore/v1/catalogs/{catalogId}/layers/{layerId}/data/{dataHandle}/multiparts/{multiPartToken}".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)).replace("{dataHandle}",n.UrlBuilder.toString(t.dataHandle)).replace("{multiPartToken}",n.UrlBuilder.toString(t.multiPartToken)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={method:"DELETE",headers:{}};return e.request(o,i)},t.deleteObjectUsingDELETE=function(e,t){var r="/blobstore/v1/catalogs/{catalogId}/layers/{layerId}/data/{dataHandle}".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)).replace("{dataHandle}",n.UrlBuilder.toString(t.dataHandle)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={method:"DELETE",headers:{}};return e.request(o,i)},t.fetchDataUsingGET=function(e,t){var r="/blobstore/v1/catalogs/{catalogId}/layers/{layerId}/data/{dataHandle}".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)).replace("{dataHandle}",n.UrlBuilder.toString(t.dataHandle)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.getMultipartStatusUsingGET=function(e,t){var r="/blobstore/v1/catalogs/{catalogId}/layers/{layerId}/data/{dataHandle}/multiparts/{multiPartToken}".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)).replace("{dataHandle}",n.UrlBuilder.toString(t.dataHandle)).replace("{multiPartToken}",n.UrlBuilder.toString(t.multiPartToken)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.publishObjectUsingPUT=function(e,t){var r="/blobstore/v1/catalogs/{catalogId}/layers/{layerId}/data/{dataHandle}".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)).replace("{dataHandle}",n.UrlBuilder.toString(t.dataHandle)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={},a={method:"PUT",headers:i};return i["Content-Type"]="application/x-www-form-urlencoded",a.body=n.UrlBuilder.stringifyQuery({file:t.file}),e.request(o,a)},t.startMultipartUsingPOST=function(e,t){var r="/blobstore/v1/catalogs/{catalogId}/layers/{layerId}/data/{dataHandle}/multiparts".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)).replace("{dataHandle}",n.UrlBuilder.toString(t.dataHandle)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={},a={method:"POST",headers:i};return i["Content-Type"]="application/json",void 0!==t.body&&(a.body=JSON.stringify(t.body)),e.request(o,a)},t.uploadPartUsingPOST=function(e,t){var r="/blobstore/v1/catalogs/{catalogId}/layers/{layerId}/data/{dataHandle}/multiparts/{multiPartToken}/parts".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)).replace("{dataHandle}",n.UrlBuilder.toString(t.dataHandle)).replace("{multiPartToken}",n.UrlBuilder.toString(t.multiPartToken)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("partNumber",t.partNumber),o.appendQuery("billingTag",t.billingTag);var i={},a={method:"POST",headers:i};return i["Content-Type"]="application/x-www-form-urlencoded",a.body=n.UrlBuilder.stringifyQuery({file:t.file}),e.request(o,a)},t.catalogUsingPUT=function(e,t){var r="/config/v1/catalogs/{catalogHrn}".replace("{catalogHrn}",n.UrlBuilder.toString(t.catalogHrn)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={},a={method:"PUT",headers:i};return i["Content-Type"]="application/json",void 0!==t.catalog&&(a.body=JSON.stringify(t.catalog)),e.request(o,a)},t.createCatalogUsingPOST=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/config/v1/catalogs");r.appendQuery("billingTag",t.billingTag);var o={},i={method:"POST",headers:o};return o["Content-Type"]="application/json",void 0!==t.catalog&&(i.body=JSON.stringify(t.catalog)),e.request(r,i)},t.deleteCatalogUsingDELETE=function(e,t){var r="/config/v1/catalogs/{catalogHrn}".replace("{catalogHrn}",n.UrlBuilder.toString(t.catalogHrn)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={method:"DELETE",headers:{}};return e.request(o,i)},t.getCatalogStatusUsingGET=function(e,t){var r="/config/v1/status/{token}".replace("{token}",n.UrlBuilder.toString(t.token)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.getCatalogUsingGET=function(e,t){var r="/config/v1/catalogs/{catalogHrn}".replace("{catalogHrn}",n.UrlBuilder.toString(t.catalogHrn)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.getCatalogsUsingGET=function(e,t){var r=new n.UrlBuilder(e.baseUrl+"/config/v1/catalogs");r.appendQuery("billingTag",t.billingTag);var o={method:"GET",headers:{}};return e.request(r,o)},t.ingestViaPublishAPIUsingPOST=function(e,t){var r="/ingest/v1/catalog/{catalogId}/layer/{layerId}".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)),o=new n.UrlBuilder(e.baseUrl+r),i={},a={method:"POST",headers:i};return i["Content-Type"]="application/json",void 0!==t.data&&(a.body=JSON.stringify(t.data)),void 0!==t.xHEREChecksum&&(i["X-HERE-Checksum"]=t.xHEREChecksum),void 0!==t.xHERETraceId&&(i["X-HERE-TraceId"]=t.xHERETraceId),e.request(o,a)},t.getChangeHistoryUsingGET=function(e,t){var r="/metadata/v1/catalogs/{catalogId}/layers/{layerId}/partitions/{partition}/changeHistory".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)).replace("{partition}",n.UrlBuilder.toString(t.partition)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("version",t.version),o.appendQuery("direction",t.direction),o.appendQuery("limit",t.limit),o.appendQuery("additionalFields",t.additionalFields),o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.getChangesUsingGET=function(e,t){var r="/metadata/v1/catalogs/{catalogId}/layers/{layerId}/changes".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("startVersion",t.startVersion),o.appendQuery("endVersion",t.endVersion),o.appendQuery("additionalFields",t.additionalFields),o.appendQuery("range",t.range),o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.getPartitionsUsingGET=function(e,t){var r="/metadata/v1/catalogs/{catalogId}/layers/{layerId}/partitions".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("version",t.version),o.appendQuery("additionalFields",t.additionalFields),o.appendQuery("range",t.range),o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.latestVersionUsingGET=function(e,t){var r="/metadata/v1/catalogs/{catalogId}/versions/latest".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("startVersion",t.startVersion),o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.layerVersionsForCatalogUsingGET=function(e,t){var r="/metadata/v1/catalogs/{catalogId}/layerVersions".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("version",t.version),o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.listVersionsUsingGET=function(e,t){var r="/metadata/v1/catalogs/{catalogId}/versions".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("startVersion",t.startVersion),o.appendQuery("endVersion",t.endVersion),o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.minimumVersionUsingGET=function(e,t){var r="/metadata/v1/catalogs/{catalogId}/versions/minimum".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.deleteBatchUsingDELETE=function(e,t){var r="/publish/v1/catalogs/{catalogId}/batches/{batchToken}".replace("{batchToken}",n.UrlBuilder.toString(t.batchToken)).replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={method:"DELETE",headers:{}};return e.request(o,i)},t.finalizeUsingPUT=function(e,t){var r="/publish/v1/catalogs/{catalogId}/batches/{batchToken}".replace("{batchToken}",n.UrlBuilder.toString(t.batchToken)).replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={method:"PUT",headers:{}};return e.request(o,i)},t.getBatchesUsingGET=function(e,t){var r="/publish/v1/catalogs/{catalogId}/batches".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)),o=new n.UrlBuilder(e.baseUrl+r),i={method:"GET",headers:{}};return e.request(o,i)},t.getStatusUsingGET=function(e,t){var r="/publish/v1/catalogs/{catalogId}/batches/{batchToken}".replace("{batchToken}",n.UrlBuilder.toString(t.batchToken)).replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.publishPartitionsUsingPOST=function(e,t){var r="/publish/v1/catalogs/{catalogId}/layers/{layerId}/publications".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={},a={method:"POST",headers:i};return i["Content-Type"]="application/json",void 0!==t.publications&&(a.body=JSON.stringify(t.publications)),e.request(o,a)},t.startUsingPOST=function(e,t){var r="/publish/v1/catalogs/{catalogId}/batches".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("billingTag",t.billingTag);var i={},a={method:"POST",headers:i};return i["Content-Type"]="application/json",void 0!==t.body&&(a.body=JSON.stringify(t.body)),e.request(o,a)},t.getChangesUsingGET1=function(e,t){var r="/query/v1/catalogs/{catalogId}/layers/{layerId}/changes".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("startVersion",t.startVersion),o.appendQuery("endVersion",t.endVersion),o.appendQuery("additionalFields",t.additionalFields),o.appendQuery("range",t.range),o.appendQuery("partition",t.partition),o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.getPartitionsUsingGET1=function(e,t){var r="/query/v1/catalogs/{catalogId}/layers/{layerId}/partitions".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("version",t.version),o.appendQuery("partition",t.partition),o.appendQuery("additionalFields",t.additionalFields),o.appendQuery("range",t.range),o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)},t.quadTreeIndexUsingGET=function(e,t){var r="/query/v1/catalogs/{catalogId}/layers/{layerId}/versions/{version}/quadkeys/{quadKey}/depths/{depth}".replace("{catalogId}",n.UrlBuilder.toString(t.catalogId)).replace("{layerId}",n.UrlBuilder.toString(t.layerId)).replace("{version}",n.UrlBuilder.toString(t.version)).replace("{quadKey}",n.UrlBuilder.toString(t.quadKey)).replace("{depth}",n.UrlBuilder.toString(t.depth)),o=new n.UrlBuilder(e.baseUrl+r);o.appendQuery("additionalFields",t.additionalFields),o.appendQuery("billingTag",t.billingTag);var i={method:"GET",headers:{}};return e.request(o,i)}},38:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(7),i=r(12),a=Math.PI/180,u=function(){function e(){}return e.prototype.getScaleFactor=function(e){return 1},e.prototype.worldExtent=function(e,t,r){return r||(r=i.MathUtils.newEmptyBox3()),r.min.x=0,r.min.y=0,r.min.z=e,r.max.x=1,r.max.y=.5,r.max.z=t,r},e.prototype.projectPoint=function(t,r){return void 0===r&&(r={x:0,y:0,z:0}),r.x=(t.longitude*a+Math.PI)*e.geoToWorldScale,r.y=(t.latitude*a+.5*Math.PI)*e.geoToWorldScale,r.z=t.altitude||0,r},e.prototype.unprojectPoint=function(t){return o.GeoCoordinates.fromRadians(t.y*e.worldToGeoScale-.5*Math.PI,t.x*e.worldToGeoScale-Math.PI,t.z)},e.prototype.projectBox=function(t,r){var n=this.projectPoint(new o.GeoCoordinates(t.center.latitude,t.center.longitude,0)),a=t.latitudeSpanInRadians,u=t.longitudeSpanInRadians,l=t.altitudeSpan,s=u*e.geoToWorldScale,c=a*e.geoToWorldScale;return r||(r=i.MathUtils.newEmptyBox3()),r.min.x=n.x-.5*s,r.min.y=n.y-.5*c,r.max.x=n.x+.5*s,r.max.y=n.y+.5*c,void 0!==l?(r.min.z=n.z-.5*l,r.max.z=n.z+.5*l):(r.min.z=0,r.max.z=0),r},e.prototype.unprojectBox=function(e){var t=this.unprojectPoint(e.min),r=this.unprojectPoint(e.max);return n.GeoBox.fromCoordinates(t,r)},e.geoToWorldScale=1/(2*Math.PI),e.worldToGeoScale=2*Math.PI/1,e}();t.equirectangularProjection=new u},39:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(11),i=r(7),a=r(16),u=r(25),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.projectPoint=function(e,t){var r;r=e instanceof i.GeoCoordinates?e.normalized():new i.GeoCoordinates(e.latitude,e.longitude,e.altitude).normalized(),t||(t={x:0,y:0,z:0}),t.x=(r.longitude+180)/360*a.EarthConstants.EQUATORIAL_CIRCUMFERENCE;var n=Math.sin(u.MercatorProjection.latitudeClamp(r.latitudeInRadians));return t.y=(.5-Math.log((1+n)/(1-n))/(4*Math.PI))*a.EarthConstants.EQUATORIAL_CIRCUMFERENCE,t.z=e.altitude||0,t},t.prototype.unprojectPoint=function(e){var t=u.MercatorProjection.clamp(e.x,0,a.EarthConstants.EQUATORIAL_CIRCUMFERENCE)/a.EarthConstants.EQUATORIAL_CIRCUMFERENCE-.5,r=.5-u.MercatorProjection.clamp(e.y,0,a.EarthConstants.EQUATORIAL_CIRCUMFERENCE)/a.EarthConstants.EQUATORIAL_CIRCUMFERENCE,n=360*t,o=90-360*Math.atan(Math.exp(2*-r*Math.PI))/Math.PI;return new i.GeoCoordinates(o,n,e.z)},t.prototype.unprojectBox=function(e){var t=this.unprojectPoint(e.min),r=this.unprojectPoint(e.max);return new o.GeoBox(new i.GeoCoordinates(r.latitude,t.longitude,t.altitude),new i.GeoCoordinates(t.latitude,r.longitude,r.altitude))},t.MAXIMUM_LATITUDE=1.4844222297453322,t}(u.MercatorProjection);t.webMercatorProjection=new l},40:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),o=function(){function e(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0),this.tilingScheme=e,this.minElevation=t,this.maxElevation=r,this.m_tilingScheme=e,this.m_worldBox=e.projection.worldExtent(t,r);var n=this.m_worldBox,o=n.min,i=n.max;this.m_worldDimensions={x:i.x-o.x,y:i.y-o.y,z:i.z-o.z}}return Object.defineProperty(e.prototype,"projection",{get:function(){return this.m_tilingScheme.projection},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subdivisionScheme",{get:function(){return this.m_tilingScheme.subdivisionScheme},enumerable:!0,configurable:!0}),e.prototype.getWorldBox=function(e,t){var r=e.level,o=this.subdivisionScheme.getLevelDimensionX(r),i=this.subdivisionScheme.getLevelDimensionY(r),a=this.m_worldDimensions.x/o,u=this.m_worldDimensions.y/i,l=this.m_worldBox.min.x+a*e.column,s=this.m_worldBox.min.y+u*e.row;return t||(t=n.MathUtils.newEmptyBox3()),t.min.x=l,t.min.y=s,t.min.z=this.m_worldBox.min.z,t.max.x=l+a,t.max.y=s+u,t.max.z=this.m_worldBox.max.z,t},e.prototype.getGeoBox=function(e){var t=this.getWorldBox(e);return this.projection.unprojectBox(t)},e}();t.FlatTileBoundingBoxGenerator=o},401:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function u(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,u)}l((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=n[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(5),a=r(198),u=r(161);!function(e){var t=i.TileKey.fromHereTile("1451198"),r=document.body;r.innerHTML="<p>Downloading tile "+t.toHereTile()+"... ",function(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return[4,new a.DataStoreClient({appId:u.appId,appCode:u.appCode,hrn:u.hrn}).getCatalogClient()];case 1:return[4,r.sent().getLayer("mvt").getTile(e)];case 2:if(!(t=r.sent()).ok)throw new Error("Request failed, "+t.statusText);return 204===t.status?[2,0]:[4,t.arrayBuffer()];case 3:return[2,r.sent().byteLength]}})})}(t).then(function(e){r.innerHTML+="<p>Success, received "+e+" bytes"}).catch(function(e){r.innerHTML+="<p>Failed: "+e})}(t.HypeGetTileExample||(t.HypeGetTileExample={}))},41:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.getSubdivisionX=function(){return 2},e.prototype.getSubdivisionY=function(e){return 0===e?1:2},e.prototype.getLevelDimensionX=function(e){return 1<<e},e.prototype.getLevelDimensionY=function(e){return 0!==e?1<<e-1:1},e}();t.halfQuadTreeSubdivisionScheme=new n},42:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),o=function(){function e(e,t,r){this.m_tileKey=e,this.m_level=t,this.m_count=1<<(t<<1),this.m_mask=r,this.m_shift=t>2?t-2<<1:0}return Object.defineProperty(e.prototype,"length",{get:function(){return this.m_count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this.m_level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tileKey",{get:function(){return this.m_tileKey},enumerable:!0,configurable:!0}),e.prototype.iterator=function(){return new e.Iterator(this)},e.prototype.skip=function(e){if(-1!==this.m_mask)for(;e<this.m_count&&0==(this.m_mask&1<<(e>>this.m_shift));)++e;return e},e}();t.SubTiles=o,function(e){var t=function(){function e(e,t){void 0===t&&(t=0),this.m_parent=e,this.m_index=e.skip(t)}return Object.defineProperty(e.prototype,"value",{get:function(){var e=this.m_parent.tileKey,t=this.m_parent.level;return n.TileKey.fromRowColumnLevel(e.row<<t|this.m_index>>t,e.column<<t|this.m_index&(1<<t)-1,e.level+t)},enumerable:!0,configurable:!0}),e.prototype.next=function(){this.m_index=this.m_parent.skip(++this.m_index)},e}();e.Iterator=t}(o=t.SubTiles||(t.SubTiles={})),t.SubTiles=o},43:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(7),o=r(8),i=function(){function e(){}return e.geoCoordinatesToTileKey=function(e,t,r){var n=e.projection,i=e.subdivisionScheme,a=n.projectPoint(t),u=i.getLevelDimensionX(r),l=i.getLevelDimensionY(r),s=n.worldExtent(0,0),c=s.min,d=s.max,p=d.x-c.x,h=d.y-c.y;if(a.x<c.x||a.x>d.x)return null;if(a.y<c.y||a.y>d.y)return null;var f=Math.min(u-1,Math.floor(u*(a.x-c.x)/p)),v=Math.min(l-1,Math.floor(l*(a.y-c.y)/h));return o.TileKey.fromRowColumnLevel(v,f,r)},e.geoRectangleToTileKeys=function(t,r,i){var a=function(e,t,r){return e<t?r-(t-e)%(r-t):t+(e-t)%(r-t)},u=function(e,t,r){return Math.min(Math.max(e,t),r)},l=a(r.southWest.longitudeInRadians,-Math.PI,Math.PI),s=u(r.southWest.latitudeInRadians,-.5*Math.PI,.5*Math.PI),c=a(r.northEast.longitudeInRadians,-Math.PI,Math.PI),d=u(r.northEast.latitudeInRadians,-.5*Math.PI,.5*Math.PI),p=e.geoCoordinatesToTileKey(t,n.GeoCoordinates.fromRadians(s,l),i),h=e.geoCoordinatesToTileKey(t,n.GeoCoordinates.fromRadians(d,c),i),f=t.subdivisionScheme.getLevelDimensionX(i);if(!p||!h)throw new Error("Invalid coordinates");var v=p.column,y=h.column;l>c&&(y+=y!==v?f:f-1);for(var g=Math.min(p.row,h.row),m=Math.max(p.row,h.row),b=new Array,w=g;w<=m;++w)for(var T=v;T<=y;++T)b.push(o.TileKey.fromRowColumnLevel(w,T%f,i));return b},e}();t.TileKeyUtils=i},44:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(42),o=function(){function e(e){this.m_subdivisionScheme=e}return e.prototype.subTiles=function(e){for(var t=~(-1<<this.m_subdivisionScheme.getSubdivisionX(e.level)*this.m_subdivisionScheme.getSubdivisionY(e.level)),r=new n.SubTiles(e,1,t),o=r.iterator(),i=new Array,a=0;a<r.length;++a)i.push(o.value),o.next();return i},e}();t.TileTreeTraverse=o},45:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.error=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];console.error.apply(console,o([e],t))},e.prototype.debug=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];console.debug.apply(console,o([e],t))},e.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];console.info.apply(console,o([e],t))},e.prototype.log=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];console.log.apply(console,o([e],t))},e.prototype.trace=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];console.trace.apply(console,o([e],t))},e.prototype.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];console.warn.apply(console,o([e],t))},e}();t.ConsoleChannel=i},46:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(27),a=function(){function e(e,t,r){this.name=e,this.m_channel=t,this.enabled=!0,this.level=i.LogLevel.Trace,void 0!==r&&this.update(r)}return e.prototype.error=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.enabled&&this.level<=i.LogLevel.Error&&(t=this.m_channel).error.apply(t,o([this.prefix,e],r))},e.prototype.debug=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.enabled&&this.level<=i.LogLevel.Debug&&(t=this.m_channel).debug.apply(t,o([this.prefix,e],r))},e.prototype.info=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.enabled&&this.level<=i.LogLevel.Info&&(t=this.m_channel).info.apply(t,o([this.prefix,e],r))},e.prototype.log=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.enabled&&this.level<=i.LogLevel.Log&&(t=this.m_channel).log.apply(t,o([this.prefix,e],r))},e.prototype.trace=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.enabled&&this.level<=i.LogLevel.Trace&&(t=this.m_channel).trace.apply(t,o([this.prefix,e],r))},e.prototype.warn=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.enabled&&this.level<=i.LogLevel.Warn&&(t=this.m_channel).warn.apply(t,o([this.prefix,e],r))},e.prototype.update=function(e){this.enabled=void 0===e.enabled?this.enabled:e.enabled,this.level=void 0===e.level?this.level:e.level},Object.defineProperty(e.prototype,"prefix",{get:function(){return this.name+":"},enumerable:!0,configurable:!0}),e}();t.Logger=a},47:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=r(27);t.WORKERCHANNEL_MSG_TYPE="worker-channel-message";var a=function(){function e(){}return e.prototype.error=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a={message:o([e],r),type:t.WORKERCHANNEL_MSG_TYPE,level:i.LogLevel.Error};self.postMessage(a)},e.prototype.debug=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a={message:o([e],r),type:t.WORKERCHANNEL_MSG_TYPE,level:i.LogLevel.Debug};self.postMessage(a)},e.prototype.info=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a={message:o([e],r),type:t.WORKERCHANNEL_MSG_TYPE,level:i.LogLevel.Info};self.postMessage(a)},e.prototype.log=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a={message:o([e],r),type:t.WORKERCHANNEL_MSG_TYPE,level:i.LogLevel.Log};self.postMessage(a)},e.prototype.trace=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a={message:o([e],r),type:t.WORKERCHANNEL_MSG_TYPE,level:i.LogLevel.Trace};self.postMessage(a)},e.prototype.warn=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var a={message:o([e],r),type:t.WORKERCHANNEL_MSG_TYPE,level:i.LogLevel.Warn};self.postMessage(a)},e}();t.WorkerChannel=a},48:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){return function(e,t,r,n,o){this.key=e,this.value=t,this.size=r,this.newer=n,this.older=o}}();t.Entry=o;var i=function(){function e(e,t){void 0===t&&(t=function(){return 1}),this.m_size=0,this.m_map=new Map,this.m_newest=null,this.m_oldest=null,this.m_capacity=e,this.m_sizeFunction=t}return e.prototype.forEach=function(e,t){for(var r=this.m_newest;null!==r;)e.call(t,r.value,r.key,this),r=r.older},Object.defineProperty(e.prototype,"size",{get:function(){return this.m_size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"capacity",{get:function(){return this.m_capacity},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){return this.m_map},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newest",{get:function(){return this.m_newest},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oldest",{get:function(){return this.m_oldest},enumerable:!0,configurable:!0}),e.prototype.setCapacity=function(e){for(this.m_capacity=e;this.m_size>this.m_capacity;)this.evict()},e.prototype.set=function(e,t){var r=this.m_sizeFunction(t),i=this.m_map.get(e);if(void 0!==i)this.m_size=this.m_size-i.size+r,i.value=t,i.size=r,this.promote(i),this.evict();else{if(r>this.m_capacity)return;if(i=new o(e,t,r,null,null),0===this.m_map.size)this.m_newest=this.m_oldest=i;else{n.assert(null!==this.m_newest);var a=this.m_newest;i.older=this.m_newest,a.newer=i,this.m_newest=i}this.m_map.set(e,i),this.m_size+=r,this.evict()}},e.prototype.get=function(e){var t=this.m_map.get(e);if(void 0!==t)return this.promote(t),t.value},e.prototype.has=function(e){return this.m_map.has(e)},e.prototype.clear=function(){this.m_newest=this.m_oldest=null,this.m_size=0,this.m_map.clear()},e.prototype.evictAll=function(){var e=this.evictionCallback;void 0!==e&&this.forEach(function(t,r){return e(r,t)}),this.clear()},e.prototype.delete=function(e){var t=this.m_map.get(e);return void 0!==t&&(t===this.m_newest?this.m_newest=t.older:t.newer?t.newer.older=t.older:n.assert(!1),t===this.m_oldest?this.m_oldest=t.newer:t.older?t.older.newer=t.newer:n.assert(!1),this.m_size-=t.size,this.m_map.delete(e))},e.prototype.evict=function(){for(;this.m_size>this.m_capacity;)this.evictOldest()},e.prototype.evictOldest=function(){n.assert(null!==this.m_oldest);var e=this.m_oldest;n.assert(null===e.older);var t=e;this.m_oldest=t.newer,null!==t.newer&&(n.assert(t.newer.older===t),t.newer.older=null);var r=this.m_map.delete(t.key);return n.assert(!0===r),r&&void 0!==this.evictionCallback&&this.evictionCallback(t.key,t.value),this.m_size-=t.size,t},e.prototype.promote=function(e){if(e!==this.m_newest){e.newer&&(n.assert(e.newer.older===e),e.newer.older=e.older),e.older&&(n.assert(e.older.newer===e),e.older.newer=e.newer),e===this.m_oldest&&(this.m_oldest=e.newer),e.newer=null,e.older=this.m_newest,n.assert(null!==this.m_newest);var t=this.m_newest;n.assert(null===t.newer),t.newer=e,this.m_newest=e}},e}();t.LRUCache=i},49:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function u(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,u)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=n[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(){var t=e.call(this,"Request cancelled")||this;return t.isCancelled=!0,t}return n(t,e),t}(Error);t.CancellationException=u;var l=function(){function e(){this.m_isCancelled=!1}return e.prototype.cancel=function(){this.m_isCancelled=!0,void 0!==this._cancel&&this._cancel()},Object.defineProperty(e.prototype,"isCancelled",{get:function(){return this.m_isCancelled},enumerable:!0,configurable:!0}),e}();t.CancellationToken=l;var s=function(){function e(t){var r,n,o=this;if(this.m_headers=new Map,void 0!==t)if(t instanceof e)t.forEach(function(e,t){return o.append(t,e)});else try{for(var i=a(Object.getOwnPropertyNames(t)),u=i.next();!u.done;u=i.next()){var l=u.value;this.append(l,t[l])}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}return e.prototype.append=function(e,t){var r=this.m_headers.get(e);void 0===r?this.set(e,t):r.push(t)},e.prototype.getAll=function(e){var t=this.m_headers.get(e.toLowerCase());return void 0===t?[]:t},e.prototype.get=function(e){var t=this.m_headers.get(e.toLowerCase());return void 0===t?null:t[0]},e.prototype.set=function(e,t){this.m_headers.set(e.toLowerCase(),[t])},e.prototype.has=function(e){return this.m_headers.has(e.toLowerCase())},e.prototype.forEach=function(e){var t=this;this.m_headers.forEach(function(r,n){r.forEach(function(r){return e(r,n,t)})})},e}();t.Headers=s,t.vanillaFetch=function(e,t){return o(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return[4,fetch(e)];case 1:return[2,{status:(t=r.sent()).status,statusText:t.statusText,ok:t.ok,type:t.type,url:e,headers:t.headers,arrayBuffer:function(){return t.arrayBuffer()},json:function(){return t.json()},text:function(){return t.text()}}]}})})},t.addBearerToken=function(e,t){return o(this,void 0,void 0,function(){var r;return i(this,function(n){switch(n.label){case 0:return void 0===t&&(t={}),void 0===t.headers&&(t.headers=new s),[4,e()];case 1:return r=n.sent(),t.headers.append("Authorization","Bearer "+r),[2,t]}})})}},5:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(11)),n(r(88)),n(r(7)),n(r(16)),n(r(38)),n(r(89)),n(r(90)),n(r(25)),n(r(39)),n(r(40)),n(r(41)),n(r(26)),n(r(91)),n(r(42)),n(r(92)),n(r(8)),n(r(43)),n(r(44)),n(r(15)),n(r(93)),n(r(94)),n(r(95)),n(r(96)),n(r(97)),n(r(12))},6:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(49)),n(r(113))},7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=180/Math.PI,o=Math.PI/180,i=function(){function e(e,t,r){this.latitude=e,this.longitude=t,this.altitude=r}return e.fromDegrees=function(t,r,n){return new e(t,r,n)},e.fromRadians=function(t,r,o){return new e(t*n,r*n,o)},Object.defineProperty(e.prototype,"latitudeInRadians",{get:function(){return this.latitude*o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitudeInRadians",{get:function(){return this.longitude*o},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"latitudeInDegrees",{get:function(){return this.latitude},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitudeInDegrees",{get:function(){return this.longitude},enumerable:!0,configurable:!0}),e.prototype.isValid=function(){return!isNaN(this.latitude)&&!isNaN(this.longitude)},e.prototype.normalized=function(){var t,r=this.latitude,n=this.longitude;if(isNaN(r)||isNaN(n))return this;r>90&&((t=(r+90)%360)>=180&&(n+=180,t=360-t),r=t-90);r<-90&&((t=(r-90)%360)<=-180&&(n+=180,t=-360-t),r=t+90);return(n<-180||n>180)&&(n=(n+180)%360-180),r===this.latitude&&n===this.longitude?this:new e(r,n,this.altitude)},e.prototype.equals=function(e){return this.latitude===e.latitude&&this.longitude===e.longitude&&this.altitude===e.altitude},e.prototype.copy=function(e){return this.latitude=e.latitude,this.longitude=e.longitude,this.altitude=e.altitude,this},e.prototype.clone=function(){return new e(this.latitude,this.longitude,this.altitude)},e}();t.GeoCoordinates=i},8:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072,262144,524288,1048576,2097152,4194304,8388608,16777216,33554432,67108864,134217728,268435456,536870912,1073741824,2147483648,4294967296,8589934592,17179869184,34359738368,68719476736,137438953472,274877906944,549755813888,1099511627776,2199023255552,4398046511104,8796093022208,17592186044416,35184372088832,70368744177664,0x800000000000,281474976710656,562949953421312,9007199254740992,0x8000000000000],o=function(){function e(e,t,r){this.row=e,this.column=t,this.level=r}return e.fromRowColumnLevel=function(t,r,n){return new e(t,r,n)},e.fromQuadKey=function(t){for(var r=t.length,n=0,o=0,i=0;i<t.length;++i){var a=1<<i,u=parseInt(t.charAt(r-i-1),10);1&u&&(o|=a),2&u&&(n|=a)}return e.fromRowColumnLevel(n,o,r)},e.fromMortonCode=function(t){for(var r=0,n=0,o=0,i=t;i>1;){var a=1<<r;1&i&&(o|=a),2&i&&(n|=a),r++,i=(i-(3&i))/4}var u=e.fromRowColumnLevel(n,o,r);return u.m_mortonCode=t,u},e.fromHereTile=function(t){var r=e.fromMortonCode(parseInt(t,10));return r.m_hereTile=t,r},e.columnsAtLevel=function(e){return Math.pow(2,e)},e.rowsAtLevel=function(e){return Math.pow(2,e)},e.atCoords=function(t,r,n,o,i){return e.fromRowColumnLevel(Math.floor(n/(i/e.rowsAtLevel(t))),Math.floor(r/(o/e.columnsAtLevel(t))),t)},e.parentMortonCode=function(e){return Math.floor(e/4)},e.prototype.parent=function(){if(0===this.level)throw new Error("Cannot get the parent of the root tile key");return e.fromRowColumnLevel(this.row>>>1,this.column>>>1,this.level-1)},e.prototype.changedLevelBy=function(t){var r=Math.max(0,this.level+t),n=this.row,o=this.column;return t>=0?(n<<=t,o<<=t):(n>>>=-t,o>>>=-t),e.fromRowColumnLevel(n,o,r)},e.prototype.changedLevelTo=function(e){return this.changedLevelBy(e-this.level)},e.prototype.mortonCode=function(){if(void 0===this.m_mortonCode){for(var e=this.column,t=this.row,r=n[this.level<<1],o=0;o<this.level;++o)1&e&&(r+=n[2*o]),1&t&&(r+=n[2*o+1]),e>>>=1,t>>>=1;this.m_mortonCode=r}return this.m_mortonCode},e.prototype.toHereTile=function(){return void 0===this.m_hereTile&&(this.m_hereTile=this.mortonCode().toString()),this.m_hereTile},e.prototype.toQuadKey=function(){for(var e="",t=this.level;t>0;--t){var r=1<<t-1,n=0!=(this.column&r),o=0!=(this.row&r);e+=n&&o?"3":o?"2":n?"1":"0"}return e},e.prototype.equals=function(e){return this.row===e.row&&this.column===e.column&&this.level===e.level},e.prototype.addedSubKey=function(t){var r=e.fromQuadKey(0===t.length?"-":t),n=this.changedLevelBy(r.level);return e.fromRowColumnLevel(n.row+r.row,n.column+r.column,n.level)},e.prototype.addedSubHereTile=function(t){var r=e.fromHereTile(t),n=this.changedLevelBy(r.level);return e.fromRowColumnLevel(n.row+r.row,n.column+r.column,n.level)},e.prototype.getSubHereTile=function(e){var t=1<<2*e;return(this.mortonCode()&t-1|t).toString()},e.prototype.rowCount=function(){return e.rowsAtLevel(this.level)},e.prototype.columnCount=function(){return e.columnsAtLevel(this.level)},e}();t.TileKey=o},80:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.data=e}return e.addResolver=function(t){e.resolvers.add(t)},e.removeResolver=function(e){return this.resolvers.delete(e)},e.fromString=function(t){if(t.startsWith("http:")||t.startsWith("https:"))return new e({partition:"catalog-url",service:"datastore",region:"",account:"",resource:encodeURIComponent(t)});var r=t.split(":");if(r.length<6||"hrn"!==r[0])throw new Error("Invalid HRN");return new e({partition:r[1],service:r[2],region:r[3],account:r[4],resource:r.slice(5).join(":")})},e.resolveBuiltin=function(e){if("datastore"===e.service)switch(e.partition){case"here":return"https://"+e.resource+".catalogs.datastore.api.here.com";case"here-dev":return"https://"+e.resource+".catalogs.datastore.sit.api.here.com";case"catalog-url":return decodeURIComponent(e.resource)}else if("schema"===e.service){if("catalog-url"===e.partition)return decodeURIComponent(e.resource);if("here"===e.partition||"here-dev"===e.partition){var t=e.resource.split(":");if(t.length<3)throw new Error("HRN resource must consist of three parameters");var r="here"===e.partition?"https://repo.platform.here.com/artifactory/open-location-platform":"https://artifactory.in.here.com/artifactory/here-olp-sit",n=t[0].replace(/\./g,"/"),o="";switch(t[3]){case"proto":case"java":o=".jar";break;case"ds":o=".zip"}var i=t[1]+(void 0===t[3]?"":"_"+t[3]),a=t[2];return r+"/"+n+"/"+i+"/"+a+"/"+i+"-"+a+o}}},e.prototype.toString=function(){return"hrn:"+this.data.partition+":"+this.data.service+":"+(void 0===this.data.region?"":this.data.region)+":"+(void 0===this.data.account?"":this.data.account)+":"+this.data.resource},e.prototype.resolve=function(){var t,r=this;if(e.resolvers.forEach(function(e){void 0===t&&(t=e(r.data))}),void 0===t&&(t=e.resolveBuiltin(this.data)),void 0===t)throw new Error("No resolver found for HRN, cannot resolve");return t},e.resolvers=new Set,e}();t.HRN=n},81:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=r(6),i=function(){function e(){this.status=204,this.statusText="No Content",this.ok=!0,this.type="default"}return Object.defineProperty(e.prototype,"headers",{get:function(){return new o.Headers},enumerable:!0,configurable:!0}),e.prototype.arrayBuffer=function(){return Promise.resolve(new ArrayBuffer(0))},e.prototype.json=function(){return Promise.reject(new Error("Response has no body"))},e.prototype.text=function(){return Promise.resolve("")},e}();t.Error204Response=i;var a=function(e){function t(t,r){var n=this.constructor,o=e.call(this,t)||this;return o.name="HTTPError",Object.setPrototypeOf(o,n.prototype),o.message=t||"",o.statusText=r&&r.statusText||"",o.status=r&&r.status||0,o}return n(t,e),t}(Error);t.ErrorHTTPResponse=a},82:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function u(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,u)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=n[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(157),u=r(6);function l(e){if(void 0!==e)return{method:e.method,body:e.body,headers:void 0===e.headers?void 0:new u.Headers(e.headers)}}var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(a.RequestBuilder);t.DataStoreRequestBuilder=s;var c=function(e){function t(t,r,n,o){var i=e.call(this,r)||this;return i.downloadManager=t,i.app_id=n,i.app_code=o,i}return n(t,e),t.prototype.clone=function(e){return new t(this.downloadManager,void 0===e?this.baseUrl:e,this.app_id,this.app_code)},t.prototype.download=function(e,t){return this.downloadManager.downloadJson(e,l(t))},t.prototype.request=function(e,t){return void 0!==this.app_id&&void 0!==this.app_code&&(e.appendQuery("app_id",this.app_id),e.appendQuery("app_code",this.app_code)),this.download(e.url,t)},t.prototype.downloadData=function(e,t){var r=e;if(void 0!==this.app_id&&void 0!==this.app_code){var n=e.includes("?"),o=new a.UrlBuilder(e,n);o.appendQuery("app_id",this.app_id),o.appendQuery("app_code",this.app_code),r=o.url}return this.downloadManager.download(r,t)},t}(s);t.DataStoreAppIdRequestBuilder=c;var d=function(e){function t(t,r,n){var o=e.call(this,r)||this;return o.downloadManager=t,o.getBearerToken=n,o}return n(t,e),t.prototype.clone=function(e){return new t(this.downloadManager,void 0===e?this.baseUrl:e,this.getBearerToken)},t.prototype.download=function(e,t){return o(this,void 0,void 0,function(){var r;return i(this,function(n){switch(n.label){case 0:return[4,this.addBearerToken(l(t))];case 1:return r=n.sent(),[2,this.downloadManager.downloadJson(e,r)]}})})},t.prototype.downloadData=function(e,t){return o(this,void 0,void 0,function(){return i(this,function(r){switch(r.label){case 0:return[4,this.addBearerToken(t)];case 1:return t=r.sent(),[2,this.downloadManager.download(e,t)]}})})},t.prototype.addBearerToken=function(e){return o(this,void 0,void 0,function(){return i(this,function(t){return[2,u.addBearerToken(this.getBearerToken,e)]})})},t}(s);t.DataStoreOAuthRequestBuilder=d},88:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isGeoCoordinatesLike=function(e){return e&&"number"==typeof e.latitude&&"number"==typeof e.longitude&&("number"==typeof e.altitude||void 0===e.altitude)}},89:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(7),i=r(12),a=Math.PI/180,u=function(){function e(){}return e.prototype.getScaleFactor=function(e){return 1},e.prototype.worldExtent=function(e,t,r){return r||(r=i.MathUtils.newEmptyBox3()),r.min.x=-Math.PI,r.min.y=.5*-Math.PI,r.min.z=e,r.max.x=Math.PI,r.max.y=.5*Math.PI,r.max.z=t,r},e.prototype.projectPoint=function(e,t){return t||(t={x:0,y:0,z:0}),t.x=e.longitude*a,t.y=e.latitude*a,t.z=e.altitude||0,t},e.prototype.unprojectPoint=function(e){return o.GeoCoordinates.fromRadians(e.y,e.x,e.z)},e.prototype.projectBox=function(e,t){return t||(t=i.MathUtils.newEmptyBox3()),this.projectPoint(new o.GeoCoordinates(e.south,e.west,e.minAltitude),t.min),this.projectPoint(new o.GeoCoordinates(e.north,e.east,e.maxAltitude),t.max),t},e.prototype.unprojectBox=function(e){var t=this.unprojectPoint(e.min),r=this.unprojectPoint(e.max);return n.GeoBox.fromCoordinates(t,r)},e}();t.identityProjection=new u},90:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},91:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(8),i=function(){function e(e){this.tilingScheme=e}return e.prototype.visit=function(e){this.visitTileKey(o.TileKey.fromRowColumnLevel(0,0,0),e)},e.prototype.visitTileKey=function(e,t){var r,o;if(t(e,this.tilingScheme.getGeoBox(e)))try{for(var i=n(this.tilingScheme.getSubTileKeys(e)),a=i.next();!a.done;a=i.next()){var u=a.value;this.visitTileKey(u,t)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}},e}();t.QuadTree=i},92:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},93:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(38),o=r(41),i=r(15);t.hereTilingScheme=new i.TilingScheme(o.halfQuadTreeSubdivisionScheme,n.equirectangularProjection)},94:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(39),o=r(26),i=r(15);t.webMercatorTilingScheme=new i.TilingScheme(o.quadTreeSubdivisionScheme,n.webMercatorProjection)},95:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(25),o=r(26),i=r(15);t.mercatorTilingScheme=new i.TilingScheme(o.quadTreeSubdivisionScheme,n.mercatorProjection)},96:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVector3Like=function(e){return e&&"number"==typeof e.x&&"number"==typeof e.y&&"number"==typeof e.z}},97:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},98:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){return function(e,t){void 0===t&&(t=new Array),this.priority=e,this.elements=t}}();t.PriorityListGroup=o;var i=function(){function e(){this.groups=new Map}return e.prototype.add=function(e){this.getGroup(e.priority).elements.push(e)},e.prototype.remove=function(e){var t=this.getGroup(e.priority);if(void 0!==t){var r=t.elements.indexOf(e);if(r>=0){if(t.elements.splice(r,1),0===t.elements.length){var n=Math.floor(e.priority);this.groups.delete(n)}return!0}}return!1},e.prototype.clear=function(){this.groups.clear()},e.prototype.merge=function(e){try{for(var t=n(e.groups),r=t.next();!r.done;r=t.next()){var o=r.value,i=this.findGroup(o[1].priority);void 0!==i?i.elements=i.elements.concat(o[1].elements):this.groups.set(Math.floor(o[1].priority),o[1])}}catch(e){a={error:e}}finally{try{r&&!r.done&&(u=t.return)&&u.call(t)}finally{if(a)throw a.error}}return this;var a,u},Object.defineProperty(e.prototype,"sortedGroups",{get:function(){var e,t,r=[];try{for(var o=n(this.groups),i=o.next();!i.done;i=o.next()){var a=i.value;r.push(a[1])}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return r.sort(function(e,t){return t.priority-e.priority}),r},enumerable:!0,configurable:!0}),e.prototype.findGroup=function(e){var t=Math.floor(e);return this.groups.get(t)},e.prototype.getGroup=function(e){var t=this.findGroup(e);if(void 0===t){var r=Math.floor(e);t=new o(r),this.groups.set(r,t)}return t},e}();t.GroupedPriorityList=i},99:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(45)),n(r(100)),n(r(27)),n(r(46)),n(r(101)),n(r(103)),n(r(47))}});