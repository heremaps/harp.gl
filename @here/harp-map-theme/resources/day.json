{
    "clearColor": "#f8fbfd",
    "fontCatalogs": [
        {
            "name": "fira",
            "url": "fonts/Default_FontCatalog.json"
        }
    ],
    "defaultTextStyle": {
        "color": "#6d7477",
        "bgMode": "Outline",
        "bgColor": "#F7FBFD",
        "bgFactor": 5,
        "bgAlpha": 0.5,
        "fontCatalogName": "fira"
    },
    "textStyles": [
        {
            "name": "smallSign",
            "color": "#000000",
            "bgMode": "Outline",
            "bgColor": "#000000",
            "bgFactor": 1.5,
            "bgAlpha": 0.5,
            "fontCatalogName": "fira"
        },
        {
            "name": "smallSignLight",
            "color": "#ffffff",
            "bgMode": "Outline",
            "bgColor": "#ffffff",
            "bgFactor": 1.5,
            "bgAlpha": 0.5,
            "fontCatalogName": "fira"
        },
        {
            "name": "placeMarker",
            "color": "#60FF60",
            "bgMode": "Outline",
            "bgColor": "#202020",
            "bgFactor": 3.5,
            "bgAlpha": 0.5,
            "fontCatalogName": "fira"
        }
    ],
    "lights": [
        {
            "type": "ambient",
            "name": "ambientLight",
            "color": "#ffffff",
            "intensity": 0.8
        },
        {
            "type": "directional",
            "name": "light1",
            "color": "#ffffff",
            "intensity": 0.4,
            "direction": {
                "x": 1,
                "y": 0,
                "z": 1
            }
        },
        {
            "type": "directional",
            "name": "light2",
            "color": "#ffffff",
            "intensity": 0.4,
            "direction": {
                "x": -1,
                "y": 0,
                "z": 1
            }
        }
    ],
    "sky": {
        "type": "gradient",
        "colorTop": "#236ed5",
        "colorBottom": "#e6fcff",
        "groundColor": "#e6fcff",
        "monomialPower": 0.6
    },
    "fog": {
        "startRatio": 0.8
    },
    "images": [
        {
            "name": "icons_day",
            "url": "icons_day.png",
            "atlas": "icons_day.json",
            "preload": true
        }
    ],
    "poiTables": [
        {
            "name": "tzPoiTable",
            "url": "resources/poi_masterlist.json",
            "useAltNamesForKey" : true
        }
    ],
    "styles": {
        "tilezen": [
            {
                "description": "Default render order",
                "attr": {
                    "renderOrderBias": "sort_rank",
                    "renderOrder": 250,
                    "color": "#00f"
                }
            },
            {
                "description": "All land roads except rail",
                "when": "$layer ^= 'roads' && kind != 'rail'",
                "renderOrder": 10,
                "attr": {
                    "fadeNear": 0.8,
                    "fadeFar": 0.9,
                    "clipping": false
                },
                "styles": [
                    {
                        "when": "kind_detail == 'pier' || landuse_kind == 'pier'",
                        "technique": "solid-line",
                        "final": true,
                        "attr": {
                            "color": "#fafdfe",
                            "lineWidth": [
                                { "maxLevel": 13, "value": 1.5 },
                                { "maxLevel": 14, "value": 1.2 },
                                { "value": 0.9 }
                            ]
                        }
                    },
                    {
                        "description": "normal streets",
                        "when": "kind == 'minor_road' && kind_detail in ['residential']",
                        "renderOrder": 11,
                        "styles": [
                            {
                                "description": "text labels",
                                "technique": "text",
                                "attr": {
                                    "color": "#565660",
                                    "scale": 0.5,
                                    "priority": 20.0
                                }
                            },
                            {
                                "description": "background",
                                "technique": "solid-line",
                                "renderOrder": 10.2,
                                "attr": {
                                    "color": "#B0AF8B",
                                    "lineWidth": [
                                        { "maxLevel": 7, "value": 200 },
                                        { "maxLevel": 8, "value": 100 },
                                        { "maxLevel": 9, "value": 42 },
                                        { "maxLevel": 10, "value": 32 },
                                        { "maxLevel": 11, "value": 22 },
                                        { "maxLevel": 12, "value": 14 },
                                        { "maxLevel": 13, "value": 9 },
                                        { "value": 5 }
                                    ]
                                }
                            },
                            {
                                "description": "foreground",
                                "technique": "solid-line",
                                "renderOrder": 15.2,
                                "final": true,
                                "attr": {
                                    "color": "#FFFFDC",
                                    "lineWidth": [
                                        { "maxLevel": 7, "value": 160 },
                                        { "maxLevel": 8, "value": 90 },
                                        { "maxLevel": 9, "value": 37 },
                                        { "maxLevel": 10, "value": 28 },
                                        { "maxLevel": 11, "value": 20 },
                                        { "maxLevel": 12, "value": 12 },
                                        { "maxLevel": 13, "value": 8 },
                                        { "value": 4 }
                                    ]
                                }
                            }
                        ]
                    },
                    {
                        "description": "rest of minor & service streets",
                        "when": "kind == 'minor_road'",
                        "styles": [
                            {
                                "description": "text labels",
                                "technique": "text",
                                "attr": {
                                    "color": "#565660",
                                    "scale": 0.5,
                                    "priority": 20.0
                                }
                            },
                            {
                                "description": "background",
                                "technique": "solid-line",
                                "renderOrder": 10.1,
                                "attr": {
                                    "color": "#A8ABA8",
                                    "lineWidth": [
                                        { "maxLevel": 7, "value": 200 },
                                        { "maxLevel": 8, "value": 100 },
                                        { "maxLevel": 9, "value": 45 },
                                        { "maxLevel": 10, "value": 30 },
                                        { "maxLevel": 11, "value": 22 },
                                        { "maxLevel": 12, "value": 13 },
                                        { "maxLevel": 13, "value": 9 },
                                        { "value": 5 }
                                    ]
                                }
                            },
                            {
                                "description": "foreground",
                                "final": true,
                                "technique": "solid-line",
                                "renderOrder": 15.1,
                                "attr": {
                                    "color": "#FFFFFF",
                                    "lineWidth": [
                                        { "maxLevel": 7, "value": 160 },
                                        { "maxLevel": 8, "value": 90 },
                                        { "maxLevel": 9, "value": 38 },
                                        { "maxLevel": 10, "value": 28 },
                                        { "maxLevel": 11, "value": 20 },
                                        { "maxLevel": 12, "value": 12 },
                                        { "maxLevel": 13, "value": 8 },
                                        { "value": 4 }
                                    ]
                                }
                            }
                        ]

                    },
                    {
                        "description": "major streets",
                        "when": "kind == 'major_road' && kind_detail == 'tertiary'",
                        "renderOrder": 12,
                        "styles": [
                            {
                                "technique": "text",
                                "attr": {
                                    "color": "#565660",
                                    "textLabel": "kind_detail",
                                    "scale": 0.5,
                                    "priority": 15.0
                                }
                            },
                            {
                                "description": "background",
                                "technique": "solid-line",
                                "renderOrder": 10.3,
                                "attr": {
                                    "color": "#BF9D86",
                                    "lineWidth": [
                                        { "maxLevel": 7, "value": 250 },
                                        { "maxLevel": 8, "value": 120 },
                                        { "maxLevel": 9, "value": 60 },
                                        { "maxLevel": 10, "value": 38 },
                                        { "maxLevel": 11, "value": 24 },
                                        { "maxLevel": 12, "value": 16 },
                                        { "maxLevel": 13, "value": 10 },
                                        { "value": 5 }
                                    ]
                                }
                            },
                            {
                                "description": "foreground",
                                "technique": "solid-line",
                                "renderOrder": 15.3,
                                "final": true,
                                "attr": {
                                    "color": "#FFFC8C",
                                    "lineWidth": [
                                        { "maxLevel": 7, "value": 180 },
                                        { "maxLevel": 8, "value": 110 },
                                        { "maxLevel": 9, "value": 45 },
                                        { "maxLevel": 10, "value": 30 },
                                        { "maxLevel": 11, "value": 20 },
                                        { "maxLevel": 12, "value": 12 },
                                        { "maxLevel": 13, "value": 8 },
                                        { "value": 4 }
                                    ]
                                }
                            }
                        ]
                    },
                    {
                        "description": "major/secondary",
                        "when": "kind == 'major_road' && kind_detail in ['secondary', 'secondary_link']",
                        "renderOrder": 13,
                        "styles": [
                            {
                                "technique": "text",
                                "attr": {
                                    "color": "#565660",
                                    "scale": 0.5,
                                    "priority": 20.0
                                }
                            },
                            {
                                "description": "background",
                                "technique": "solid-line",
                                "renderOrder": 10.3,
                                "attr": {
                                    "color": "#BF9D86",
                                    "lineWidth": [
                                        { "maxLevel": 6, "value": 550 },
                                        { "maxLevel": 7, "value": 300 },
                                        { "maxLevel": 8, "value": 100 },
                                        { "maxLevel": 9, "value": 70 },
                                        { "maxLevel": 10, "value": 38 },
                                        { "maxLevel": 11, "value": 24 },
                                        { "maxLevel": 12, "value": 16 },
                                        { "maxLevel": 13, "value": 10 },
                                        { "value": 5 }
                                    ]
                                }
                            },
                            {
                                "description": "foreground",
                                "renderOrder": 15.3,
                                "technique": "solid-line",
                                "final": true,
                                "attr": {
                                    "color": "#FFFC8C",
                                    "lineWidth": [
                                        { "maxLevel": 5, "value": 830 },
                                        { "maxLevel": 6, "value": 410 },
                                        { "maxLevel": 7, "value": 220 },
                                        { "maxLevel": 8, "value": 100 },
                                        { "maxLevel": 9, "value": 50 },
                                        { "maxLevel": 10, "value": 30 },
                                        { "maxLevel": 11,   "value": 20 },
                                        { "maxLevel": 12,   "value": 12 },
                                        { "maxLevel": 13,   "value": 8 },
                                        { "value": 4 }
                                    ]
                                }
                            }
                        ]
                    },
                    {
                        "description": "primaries and motorway/highway links",
                        "when": "(kind == 'highway' && has(is_link)) || kind == 'major_road' || kind_detail in ['primary', 'primary_link', 'trunk', 'trunk_link', 'motorway_link']",
                        "styles": [
                            {
                                "technique": "text",
                                "attr": {
                                    "color": "#565660",
                                    "scale": 0.5,
                                    "priority": 25.0
                                }
                            },
                            {
                                "description": "background",
                                "technique": "solid-line",
                                "renderOrder": 10.4,
                                "attr": {
                                    "color": "#D16B62",
                                    "lineWidth": [
                                        {
                                            "maxLevel": 6,
                                            "value": 550
                                        },
                                        {
                                            "maxLevel": 7,
                                            "value": 300
                                        },
                                        {
                                            "maxLevel": 8,
                                            "value": 100
                                        },
                                        {
                                            "maxLevel": 9,
                                            "value": 70
                                        },
                                        {
                                            "maxLevel": 10,
                                            "value": 38
                                        },
                                        {
                                            "maxLevel": 11,
                                            "value": 24
                                        },
                                        {
                                            "maxLevel": 12,
                                            "value": 16
                                        },
                                        {
                                            "maxLevel": 13,
                                            "value": 10
                                        },
                                        {
                                            "value": 5
                                        }
                                    ]
                                }
                            },
                            {
                                "description": "foreground",
                                "renderOrder": 15.4,
                                "technique": "solid-line",
                                "final": true,
                                "attr": {
                                    "color": "#fead9d",
                                    "lineWidth": [
                                        {
                                            "maxLevel": 5,
                                            "value": 830
                                        },
                                        {
                                            "maxLevel": 6,
                                            "value": 410
                                        },
                                        {
                                            "maxLevel": 7,
                                            "value": 220
                                        },
                                        {
                                            "maxLevel": 8,
                                            "value": 100
                                        },
                                        {
                                            "maxLevel": 9,
                                            "value": 50
                                        },
                                        {
                                            "maxLevel": 10,
                                            "value": 30
                                        },
                                        {
                                            "maxLevel": 11,
                                            "value": 20
                                        },
                                        {
                                            "maxLevel": 12,
                                            "value": 12
                                        },
                                        {
                                            "maxLevel": 13,
                                            "value": 8
                                        },
                                        {
                                            "value": 4
                                        }
                                    ]
                                }
                            }
                        ]
                    },
                    {
                        "description": "highways/motorways",
                        "renderOrder": 15,
                        "when": "(kind in ['highway'] && !has(is_link))",
                        "styles": [
                            {
                                "technique": "text",
                                "attr": {
                                    "color": "#565660",
                                    "scale": 0.5,
                                    "priority": 35.0
                                }
                            },
                            {
                                "description": "background",
                                "technique": "solid-line",
                                "renderOrder": 10.5,
                                "attr": {
                                    "color": "#B84E7A",
                                    "lineWidth": [
                                        {
                                            "maxLevel": 6,
                                            "value": 550
                                        },
                                        {
                                            "maxLevel": 7,
                                            "value": 300
                                        },
                                        {
                                            "maxLevel": 8,
                                            "value": 100
                                        },
                                        {
                                            "maxLevel": 9,
                                            "value": 70
                                        },
                                        {
                                            "maxLevel": 10,
                                            "value": 38
                                        },
                                        {
                                            "maxLevel": 11,
                                            "value": 24
                                        },
                                        {
                                            "maxLevel": 12,
                                            "value": 16
                                        },
                                        {
                                            "maxLevel": 13,
                                            "value": 10
                                        },
                                        {
                                            "value": 5
                                        }
                                    ]
                                }
                            },
                            {
                                "description": "foreground",
                                "technique": "solid-line",
                                "renderOrder": 15.5,
                                "final": true,
                                "attr": {
                                    "color": "#EB91B4",
                                    "lineWidth": [
                                        {
                                            "maxLevel": 5,
                                            "value": 830
                                        },
                                        {
                                            "maxLevel": 6,
                                            "value": 410
                                        },
                                        {
                                            "maxLevel": 7,
                                            "value": 220
                                        },
                                        {
                                            "maxLevel": 8,
                                            "value": 100
                                        },
                                        {
                                            "maxLevel": 9,
                                            "value": 50
                                        },
                                        {
                                            "maxLevel": 10,
                                            "value": 30
                                        },
                                        {
                                            "maxLevel": 11,
                                            "value": 20
                                        },
                                        {
                                            "maxLevel": 12,
                                            "value": 12
                                        },
                                        {
                                            "maxLevel": 13,
                                            "value": 8
                                        },
                                        {
                                            "value": 4
                                        }
                                    ]
                                }
                            }
                        ]
                    },
                    {
                        "description": "airport runway",
                        "when": "kind_detail in ['runway']",
                        "final": true,
                        "technique": "solid-line",
                        "renderOrder": 20,
                        "attr": {
                            "color": "#b6babd",
                            "caps": "none",
                            "lineWidth": [
                                {
                                    "maxLevel": 9,
                                    "value": 72
                                },
                                {
                                    "maxLevel": 10,
                                    "value": 70
                                },
                                {
                                    "maxLevel": 11,
                                    "value": 66
                                },
                                {
                                    "maxLevel": 12,
                                    "value": 62
                                },
                                {
                                    "maxLevel": 13,
                                    "value": 58
                                },
                                {
                                    "value": 50
                                }
                            ]
                        }
                    },
                    {
                        "description": "airport taxi",
                        "when": "kind_detail in ['taxiway']",
                        "final": true,
                        "technique": "solid-line",
                        "renderOrder": 20,
                        "attr": {
                            "color": "#b6babd",
                            "caps": "none",
                            "lineWidth": [
                                {
                                    "maxLevel": 11,
                                    "value": 36
                                },
                                {
                                    "maxLevel": 12,
                                    "value": 31
                                },
                                {
                                    "maxLevel": 13,
                                    "value": 26
                                },
                                {
                                    "value": 22
                                }
                            ]
                        }
                    },
                    {
                        "when": "kind in ['ferry']",
                        "styles": [
                            {
                                "technique": "text",
                                "attr": {
                                    "color": "#565660",
                                    "scale": 0.5,
                                    "priority": 25.0
                                }
                            },
                            {
                                "technique": "dashed-line",
                                "final": true,
                                "attr": {
                                    "clipping": false,
                                    "color": "#2c70c3",
                                    "dashSize": [
                                        { "maxLevel": 6, "value": 4000 },
                                        { "maxLevel": 7, "value": 2500 },
                                        { "maxLevel": 8, "value": 1500 },
                                        { "maxLevel": 9,  "value": 1200 },
                                        { "maxLevel": 10, "value": 560 },
                                        { "maxLevel": 11, "value": 100 },
                                        { "maxLevel": 12, "value": 50 },
                                        { "maxLevel": 13, "value": 25 },
                                        { "maxLevel": 14, "value": 16 },
                                        { "maxLevel": 15, "value": 12 },
                                        { "value": 10 }
                                    ],
                                    "gapSize": [
                                        { "maxLevel": 6, "value": 4000 },
                                        { "maxLevel": 7, "value": 2500 },
                                        { "maxLevel": 8, "value": 1500 },
                                        { "maxLevel": 9, "value": 1200 },
                                        { "maxLevel": 10, "value": 300 },
                                        { "maxLevel": 11, "value": 100 },
                                        { "maxLevel": 12, "value": 50 },
                                        { "maxLevel": 13, "value": 25 },
                                        { "maxLevel": 14, "value": 16 },
                                        { "maxLevel": 15, "value": 12 },
                                        { "value": 10 }
                                    ],
                                    "lineWidth": [
                                        { "maxLevel": 5, "value": 320 },
                                        { "maxLevel": 6, "value": 160 },
                                        { "maxLevel": 7, "value": 80 },
                                        { "maxLevel": 8, "value": 40 },
                                        { "maxLevel": 9, "value": 15 },
                                        { "maxLevel": 10, "value": 9 },
                                        { "maxLevel": 11, "value": 6 },
                                        { "maxLevel": 12, "value": 3 },
                                        { "maxLevel": 13, "value": 1.5 },
                                        { "value": 1 }
                                    ]
                                }
                            }
                        ]
                    },
                    {
                        "description": "TODO",
                        "when": "kind_detail in ['driveway', 'parking_aisle', 'drive_through' ]",
                        "technique": "solid-line",
                        "final": true,
                        "attr": {
                            "color": "#A8ABA8",
                            "lineWidth": 5
                        }
                    },
                    {
                        "description": "pedestrian paths etc",
                        "when": "kind == 'path' && (kind_detail in ['pedestrian'] || landuse_kind in ['park', 'residential', 'footway', 'garden', 'pedestrian','grass','allotments','forest','cemetery', 'natural_wood'])",
                        "xwhen": "kind == 'path'",
                        "technique": "solid-line",
                        "final": true,
                        "attr": {
                            "color": "#daddde",
                            "lineWidth": [
                                { "maxLevel": 13, "value": 3 },
                                { "maxLevel": 14, "value": 2 },
                                { "value": 1.5 }
                            ]
                        }
                    }
                ]
            },
            {
                "when": "$layer ^= 'water'",
                "styles": [
                    {
                        "when": "$geometryType ^= 'line'",
                        "renderOrder": 3,
                        "styles": [
                            {
                                "when": "kind in ['riverbank', 'water']",
                                "technique": "none",
                                "final": true
                            },
                            {
                                "when": "(kind in ['canal', 'river']) && $level > 9",
                                "attr": {
                                    "lineWidth": [
                                        {
                                            "maxLevel": 10,
                                            "value": 28
                                        },
                                        {
                                            "maxLevel": 11,
                                            "value": 20
                                        },
                                        {
                                            "maxLevel": 12,
                                            "value": 12
                                        },
                                        {
                                            "maxLevel": 13,
                                            "value": 8
                                        },
                                        {
                                            "value": 4
                                        }
                                    ]
                                },
                                "styles": [
                                    {
                                        "when": "has(is_tunnel)",
                                        "technique": "solid-line",
                                        "attr": {
                                            "color": "#CFE8FE"
                                        }
                                    },
                                    {
                                        "when": "!has(is_tunnel)",
                                        "technique": "solid-line",
                                        "attr": {
                                            "color": "#99ceff"
                                        }
                                    },
                                    {
                                        "when": "!has(is_tunnel)",
                                        "technique": "text",
                                        "attr": {
                                            "color": "#2c70c3",
                                            "scale": 0.45,
                                            "oblique": true,
                                            "priority": -40
                                        }
                                    }
                                ]
                            },
                            {
                                "when": "(kind in ['basin', 'stream', 'strait', 'drain', 'ditch']) && $level > 9",
                                "attr": {
                                    "lineWidth": [
                                        {
                                            "maxLevel": 10,
                                            "value": 22
                                        },
                                        {
                                            "maxLevel": 11,
                                            "value": 16
                                        },
                                        {
                                            "maxLevel": 12,
                                            "value": 10
                                        },
                                        {
                                            "maxLevel": 13,
                                            "value": 6
                                        },
                                        {
                                            "value": 3
                                        }
                                    ]
                                },
                                "styles": [
                                    {
                                        "when": "has(is_tunnel)",
                                        "technique": "solid-line",
                                        "attr": {
                                            "color": "#CFE8FE"
                                        }
                                    },
                                    {
                                        "when": "!has(is_tunnel)",
                                        "technique": "solid-line",
                                        "attr": {
                                            "color": "#99ceff"
                                        }
                                    }

                                ]
                            }
                        ]
                    },
                    {
                        "when": "$geometryType ^= 'polygon'",
                        "renderOrder": 4,
                        "technique": "fill",
                        "styles": [
                            {
                                "when": "kind in ['dock', 'lake', 'ocean', 'swimming_pool']",
                                "attr": {
                                    "color": "#ffcdff"
                                }
                            },
                            {
                                "when": "$level <= 7",
                                "technique": "fill",
                                "attr": {
                                    "color": "#a0cfff"
                                }
                            },
                            {
                                "when": "$level > 7",
                                "technique": "fill",
                                "attr": {
                                    "color": "#a0cfff"
                                }
                            }
                        ]
                    },
                    {
                        "when": "$geometryType ^= 'point'",
                        "renderOrder": 120,
                        "clipping": false,
                        "attr": {
                            "color": "#2c70c3",
                            "scale": 0.45,
                            "priority": -50
                        },
                        "styles": [
                            {
                                "when": "has(is_tunnel) || kind in ['stream', 'riverbank']",
                                "final": true,
                                "technique": "none"
                            },
                            {
                                "when": "kind == 'ocean'",
                                "technique": "text",
                                "attr": {
                                    "scale": 0.7,
                                    "priority": -45
                                }
                            },
                            {
                                "when": "kind == 'sea'",
                                "technique": "text",
                                "attr": {
                                    "scale": [
                                        { "maxLevel": 2, "value": 0.3 },
                                        { "maxLevel": 3, "value": 0.35 },
                                        { "maxLevel": 4, "value": 0.4 },
                                        { "maxLevel": 5, "value": 0.5 },
                                        { "value": 0.6 }
                                    ],
                                    "priority": -50
                                }
                            },
                            {
                                "description": "lakes (on high level, only biggest lakes)",
                                "when": "kind == 'lake' || has(area)",
                                "attr": {
                                    "scale": [
                                        { "maxLevel": 2, "value": 0.3 },
                                        { "maxLevel": 3, "value": 0.3 },
                                        { "maxLevel": 4, "value": 0.35 },
                                        { "value": 0.4 }
                                    ],
                                    "priority": [
                                        { "maxLevel": 1, "value": -100 },
                                        { "value": -30 }
                                    ]
                                },
                                "styles": [
                                    {
                                        "when": "$displayLevel < 3 && area < 38682364928",
                                        "technique": "none",
                                        "final": true
                                    },
                                    {
                                        "when": "$displayLevel < 4 && area < 6682364928",
                                        "technique": "none",
                                        "final": true
                                    },
                                    {
                                        "when": "$displayLevel < 5 && area < 160000000",
                                        "technique": "none",
                                        "final": true
                                    },
                                    {
                                        "when": "$displayLevel < 6 && area < 110000000",
                                        "technique": "none",
                                        "final": true
                                    },
                                    {
                                        "when": "$displayLevel < 7 && area < 80000000",
                                        "technique": "none",
                                        "final": true
                                    },
                                    {
                                        "when": "$displayLevel < 10 && area < 5000000",
                                        "technique": "none",
                                        "final": true
                                    },
                                    {
                                        "when": "$displayLevel < 11 && area < 2000000",
                                        "technique": "none",
                                        "final": true
                                    },
                                    {
                                        "when": "$displayLevel < 12 && area < 1000000",
                                        "technique": "none",
                                        "final": true
                                    },
                                    {
                                        "when": "$displayLevel < 13 && area < 500000",
                                        "technique": "none",
                                        "final": true
                                    },
                                    {
                                        "technique": "text",
                                        "final": true
                                    }
                                ]
                            }
                        ]
                    }
                ]
            },
            {
                "description": "Railway & Trams",
                "when": "$geometryType ^= 'line' && $layer == 'roads' && kind == 'rail' && kind_detail in ['rail', 'light_rail', 'tram']",
                "renderOrder": 5,
                "styles": [
                    {
                        "when": "kind_detail == 'tram'",
                        "technique": "solid-line",
                        "renderOrder": 50,
                        "final": true,
                        "attr": {
                            "color": "#b9b9b9",
                            "lineWidth": [
                                { "maxLevel": 13, "value": 1.5 },
                                { "maxLevel": 16, "value": 0.75 },
                                { "value": 0.4 }
                            ]
                        }
                    },
                    {
                        "when": "service in ['siding', 'industrial', 'yard', 'spur', 'crossover']",
                        "styles": [
                            {
                                "when": "has(_is_tunnel)",
                                "technique": "none",
                                "final": true
                            },
                            {
                                "technique": "solid-line",
                                "final": true,
                                "attr": {
                                    "color": "#A4A8A2"
                                }
                            }
                        ]
                    },
                    {
                        "description": "Railway+S-Bahn background",
                        "attr": {
                            "xclipping": false,
                            "color": "#8c8c8c",
                            "lineWidth": [
                                {
                                    "maxLevel": 13,
                                    "value": 3.5
                                },
                                {
                                    "value": 2.5
                                }
                            ]
                        },
                        "styles": [
                            {
                                "when": "!is_tunnel",
                                "technique": "solid-line",
                                "renderOrder": 5.20,
                                "attr": {
                                    "color": "#8c8c8c"
                                }
                            },
                            {
                                "when": "is_tunnel",
                                "technique": "solid-line",
                                "renderOrder": 5.10,
                                "attr": {
                                    "_color": "#bcbcbc",
                                    "color": "#8c8c8c"
                                }
                            }

                        ]
                    },
                    {
                        "description": "Railway+S-Bahn dashes",
                        "attr": {
                            "xclipping": false,
                            "dashSize": [
                                {
                                    "maxLevel": 10,
                                    "value": 100
                                },
                                {
                                    "maxLevel": 11,
                                    "value": 40
                                },
                                {
                                    "maxLevel": 12,
                                    "value": 24
                                },
                                {
                                    "maxLevel": 13,
                                    "value": 30
                                },
                                {
                                    "maxLevel": 14,
                                    "value": 25
                                },
                                {
                                    "maxLevel": 15,
                                    "value": 15
                                },
                                {
                                    "value": 8
                                }
                            ],
                            "gapSize": [
                                {
                                    "maxLevel": 10,
                                    "value": 100
                                },
                                {
                                    "maxLevel": 11,
                                    "value": 40
                                },
                                {
                                    "maxLevel": 12,
                                    "value": 24
                                },
                                {
                                    "maxLevel": 13,
                                    "value": 30
                                },
                                {
                                    "maxLevel": 14,
                                    "value": 25
                                },
                                {
                                    "maxLevel": 15,
                                    "value": 15
                                },
                                {
                                    "value": 8
                                }
                            ],
                            "lineWidth": [
                                {
                                    "maxLevel": 13,
                                    "value": 2.75
                                },
                                {
                                    "value": 1.75
                                }
                            ]
                        },
                        "styles": [
                            {
                                "when": "!is_tunnel",
                                "technique": "dashed-line",
                                "renderOrder": 5.25,
                                "final": true,
                                "attr": {
                                    "color": "#ffffff"
                                }
                            },
                            {
                                "when": "is_tunnel",
                                "technique": "dashed-line",
                                "renderOrder": 5.15,
                                "final": true,
                                "attr": {
                                    "color": "#dddddd"
                                }
                            }

                        ]
                    }
                ]
            },
            {
                "description": "Style group for transit",
                "when": "$layer == 'transit'",
                "renderOrder": 5,
                "styles": [
                    {
                        "description": "transit polygons are usually platforms, bus, tram stops)",
                        "when": "$geometryType ^= 'polygon' && (!has(layer) || layer == 0)",
                        "technique": "fill",
                        "renderOrder": 3,
                        "attr": {
                            "color": "#eee",
                            "opacity": 0.5,
                            "clipping": false
                        }
                    },
                    {
                        "when": "$geometryType ^= 'point'",
                        "technique": "text",
                        "attr": {
                            "color": "#3D3B3C",
                            "scale": 0.5,
                            "priority": 100
                        }
                    }
                ]
            },
            {
                "description": "borders",
                "when": "$layer ^= 'boundaries' && $geometryType ^= 'line'",
                "styles": [
                    {
                        "when": "kind == 'country'",
                        "styles": [
                            {
                                "description": "background",
                                "technique": "solid-line",
                                "renderOrder": 4,
                                "attr": {
                                    "color": "#ddd",
                                    "lineWidth": [
                                        { "maxLevel": 1, "value": 10000 },
                                        { "maxLevel": 2, "value": 8000 },
                                        { "maxLevel": 3, "value": 7000 },
                                        { "maxLevel": 4, "value": 5000 },
                                        { "maxLevel": 5, "value": 3000 },
                                        { "maxLevel": 6, "value": 2000 },
                                        { "maxLevel": 7, "value": 1000 },
                                        { "maxLevel": 8, "value": 500 },
                                        { "maxLevel": 9, "value": 250 },
                                        { "maxLevel": 10, "value": 120 },
                                        { "maxLevel": 11, "value": 80 },
                                        { "maxLevel": 12, "value": 40 },
                                        { "maxLevel": 13, "value": 20 },
                                        { "value": 10 }
                                    ]
                                }
                            },
                            {
                                "description": "foreground",
                                "technique": "solid-line",
                                "renderOrder": 4.1,
                                "attr": {
                                    "color": "#7c7c7c",
                                    "lineWidth": [
                                        { "maxLevel": 2, "value": 2000 },
                                        { "maxLevel": 3, "value": 1400 },
                                        { "maxLevel": 4, "value": 1000 },
                                        { "maxLevel": 5, "value": 500 },
                                        { "maxLevel": 6, "value": 220 },
                                        { "maxLevel": 7, "value": 90 },
                                        { "maxLevel": 8, "value": 50 },
                                        { "maxLevel": 9, "value": 30 },
                                        { "maxLevel": 10, "value": 20 },
                                        { "maxLevel": 11, "value": 15 },
                                        { "maxLevel": 12, "value": 10 },
                                        { "maxLevel": 13, "value": 5 },
                                        { "value": 2 }
                                    ]
                                }
                            },
                            {
                                "technique": "text",
                                "attr": {
                                    "priority": 100,
                                    "color": "#393939",
                                    "scale": 0.4
                                }
                            }
                        ]
                    },
                    {
                        "when": "kind == 'region'",
                        "styles": [
                            {
                                "description": "background",
                                "technique": "solid-line",
                                "renderOrder": 4,
                                "attr": {
                                    "color": "#ddd",
                                    "lineWidth": [
                                        { "maxLevel": 2, "value": 5000 },
                                        { "maxLevel": 3, "value": 3000 },
                                        { "maxLevel": 4, "value": 2000 },
                                        { "maxLevel": 5, "value": 1000 },
                                        { "maxLevel": 6, "value": 500 },
                                        { "maxLevel": 7, "value": 250 },
                                        { "maxLevel": 8, "value": 180 },
                                        { "maxLevel": 9, "value": 100 },
                                        { "maxLevel": 10, "value": 60 },
                                        { "maxLevel": 11, "value": 40 },
                                        { "maxLevel": 12, "value": 20 },
                                        { "maxLevel": 13, "value": 10 },
                                        { "value": 5 }
                                    ]
                                }
                            },
                            {
                                "description": "foreground",
                                "technique": "solid-line",
                                "renderOrder": 4.1,
                                "attr": {
                                    "color": "#7c7c7c",
                                    "lineWidth": [
                                        { "maxLevel": 2, "value": 600 },
                                        { "maxLevel": 3, "value": 300 },
                                        { "maxLevel": 4, "value": 150 },
                                        { "maxLevel": 5, "value": 100 },
                                        { "maxLevel": 6, "value": 60 },
                                        { "maxLevel": 7, "value": 30 },
                                        { "maxLevel": 8, "value": 20 },
                                        { "maxLevel": 9, "value": 12 },
                                        { "maxLevel": 10, "value": 8 },
                                        { "maxLevel": 11, "value": 5 },
                                        { "maxLevel": 12, "value": 3 },
                                        { "maxLevel": 13, "value": 2 },
                                        { "value": 1 }
                                    ]
                                }
                            },
                            {
                                "technique": "text",
                                "attr": {
                                    "priority": 90,
                                    "color": "#393939",
                                    "scale": 0.4
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "when": "$layer ^= 'boundaries' && $geometryType ^= 'point'",
                "technique": "text",
                "renderOrder": 7,
                "attr": {
                    "color": "#6d7477",
                    "scale": 0.85,
                    "priority": 200
                }
            },
            {
                "description": "Grouped theme for landuse polygons",
                "when": "$layer ^= 'landuse' && $geometryType ^= 'polygon'",
                "styles": [
                    {
                        "when": "kind ^= 'urban'",
                        "technique": "none",
                        "attr": {
                            "renderOrder": 0,
                            "opacity": 0.8,
                            "color": "#e6fcff"
                        }
                    },
                    {
                        "when": "kind ^= 'urban_area'",
                        "technique": "none",
                        "attr": {
                            "renderOrder": 0.1,
                            "color": [
                                {
                                    "maxLevel": 7,
                                    "value": "e6fcff"
                                },
                                {
                                    "maxLevel": 8,
                                    "value": "e6fcff"
                                },
                                {
                                    "maxLevel": 9,
                                    "value": "#e7ecef"
                                },
                                {
                                    "maxLevel": 10,
                                    "value": "#e6ebee"
                                },
                                {
                                    "maxLevel": 11,
                                    "value": "#e5e9ec"
                                },
                                {
                                    "value": "e6fcff"
                                }
                            ]
                        }
                    },
                    {
                        "when": "kind in ['nature', 'forest','park','wood','natural_wood', 'grass', 'meadow', 'village_green', 'dog_park', 'garden', 'nature_reserve', 'protected_area']",
                        "technique": "fill",
                        "renderOrder": 0.2,
                        "attr": {
                            "color": "#c6ebb9"
                        }
                    },
                    {
                        "when": "kind ^= 'aerodrome'",
                        "technique": "fill",
                        "renderOrder": 0.3,
                        "attr": {
                            "color": "#e5e9ec"
                        }
                    },
                    {
                        "when": "kind ^= 'national_park'",
                        "technique": "fill",
                        "renderOrder": 1,
                        "attr": {
                            "color": "#c6ebb9"
                        }
                    },
                    {
                        "when": "kind in ['pitch']",
                        "technique": "fill",
                        "renderOrder": 1,
                        "attr": {
                            "color": "#D7E9DA"
                        }
                    },
                    {
                        "when": "kind ^= 'hospital'",
                        "technique": "fill",
                        "renderOrder": 0.1,
                        "attr": {
                            "color": "#eee2e8"
                        }
                    },
                    {
                        "when": "kind ^= 'cemetery'",
                        "technique": "fill",
                        "renderOrder": 0.1,
                        "attr": {
                            "color": "#c9ebb7"
                        }
                    },
                    {
                        "when": "kind in ['bridge']",
                        "technique": "fill",
                        "renderOrder": 1,
                        "attr": {
                            "color": "#c6ebb9"
                        }
                    },
                    {
                        "when": "kind in ['sport','sports_centre', 'attraction', 'zoo']",
                        "technique": "fill",
                        "renderOrder": 1,
                        "attr": {
                            "color": "#c6ebb9"
                        }
                    },
                    {
                        "when": "kind ^= 'religion'",
                        "technique": "fill",
                        "renderOrder": 1,
                        "attr": {
                            "color": "#D7E9DA"
                        }
                    },
                    {
                        "when": "kind in ['common', 'surface', 'commercial', 'military', 'industrial']",
                        "technique": "fill",
                        "renderOrder": 0,
                        "attr": {
                            "color": "#e6fcff"
                        }
                    },
                    {
                        "when": "kind in ['animal', 'aviary', 'zoo', 'farm', 'farmland', 'farmyard']",
                        "technique": "fill",
                        "renderOrder": 0,
                        "attr": {
                            "color": [
                                {
                                    "maxLevel": 10,
                                    "value": "#D9E1E4"
                                },
                                {
                                    "maxLevel": 11,
                                    "value": "#D9E1E4"
                                },
                                {
                                    "maxLevel": 12,
                                    "value": "#D9E1E4"
                                },
                                {
                                    "maxLevel": 13,
                                    "value": "#D9E1E4"
                                },
                                {
                                    "value": "clearColor"
                                }
                            ]
                        }
                    },
                    {
                        "when": "kind in ['beach'] || kind $= '_site'",
                        "technique": "fill",
                        "renderOrder": 1,
                        "attr": {
                            "color": "#ffffce"
                        }
                    }
                ]
            },
            {
                "description": "Earth layer",
                "when": "$layer ^= 'earth'",
                "styles": [
                    {
                        "when": "kind in ['continent']",
                        "technique": "text",
                        "attr": {
                            "priority": [
                                { "maxLevel": 2, "value": 120 },
                                { "maxLevel": 3, "value": 100 },
                                { "value": 60 }
                            ],
                            "color": "#E48892",
                            "allCaps": true,
                            "opacity": 0.6
                        }
                    },
                    {
                        "when": "kind in ['archipelago', 'cliff', 'ridge', 'island', 'islet']",
                        "technique": "text",
                        "attr": {
                            "opacity": 0.6,
                            "scale": [
                                { "value": 0.5 }
                            ]
                        }
                    }
                ]
            },
            {
                "description": "Places",
                "when": "$layer ^= 'places'",
                "attr": {
                    "textFadeTime": 0.75,
                    "iconFadeTime": 0.5,
                    "fadeNear": 0.8,
                    "fadeFar": 0.9
                },
                "styles": [
                    {
                        "when": "kind in ['country']",
                        "technique": "text",
                        "attr": {

                            "color": [
                                { "maxLevel": 2, "value": "#696969" },
                                { "value": "#A7ABAB" }
                            ],
                            "allCaps": true,
                            "opacity": 0.8
                        },
                        "styles": [
                            {
                                "when": "population > 10000000",
                                "technique": "text",
                                "final": true,
                                "attr": {
                                    "priority": 100,
                                    "scale": [
                                        { "maxLevel": 1, "value": 0.35 },
                                        { "maxLevel": 2, "value": 0.4 },
                                        { "maxLevel": 3, "value": 0.6 },
                                        { "maxLevel": 3, "value": 0.7 },
                                        { "value": 0.8 }
                                    ]
                                }
                            },
                            {
                                "when": "population > 1000000",
                                "technique": "text",
                                "final": true,
                                "attr": {
                                    "priority": 100,
                                    "scale": [
                                        { "maxLevel": 2, "value": 0.25 },
                                        { "maxLevel": 2, "value": 0.3 },
                                        { "maxLevel": 3, "value": 0.4 },
                                        { "maxLevel": 4, "value": 0.5 },
                                        { "value": 0.6 }
                                    ]
                                }
                            },
                            {
                                "technique": "text",
                                "final": true,
                                "attr": {
                                    "priority": 90,
                                    "scale": [
                                        { "maxLevel": 2, "value": 0.2 },
                                        { "maxLevel": 2, "value": 0.35 },
                                        { "maxLevel": 3, "value": 0.3 },
                                        { "maxLevel": 4, "value": 0.4 },
                                        { "value": 0.5 }
                                    ]
                                }
                            }
                        ]
                    },
                    {
                        "when": "kind in ['region']",
                        "technique": "none",
                        "attr": {
                            "scale": [
                                { "maxLevel": 3, "value": 0.3 },
                                { "maxLevel": 4, "value": 0.34 },
                                { "maxLevel": 5, "value": 0.4 },
                                { "value": 0.45 }
                            ],
                            "priority": 65,
                            "color": [
                                { "maxLevel": 3, "value": "#696969" },
                                { "value": "#A7ABAB" }
                            ],
                            "allCaps": true,
                            "opacity": 0.8
                        }
                    },
                    {
                        "when": "kind == 'locality' && has(population)",
                        "attr": {
                            "color": "#696969"
                        },
                        "styles": [
                            {
                                "when": "population > 10000000 || has(country_capital)",
                                "attr": {
                                    "priority": 61,
                                    "scale": [
                                        { "maxLevel": 1, "value": 0.3 },
                                        { "maxLevel": 2, "value": 0.35 },
                                        { "maxLevel": 3, "value": 0.4 },
                                        { "maxLevel": 4, "value": 0.45 },
                                        { "maxLevel": 5, "value": 0.5 },
                                        { "maxLevel": 6, "value": 0.6 },
                                        { "maxLevel": 7, "value": 0.7 },
                                        { "maxLevel": 8, "value": 0.8 },
                                        { "maxLevel": 9, "value": 0.9 },
                                        { "value": 1 }
                                    ]
                                },
                                "styles": [
                                    {
                                        "when": "has(country_capital)",
                                        "technique": "text",
                                        "final": true,
                                        "attr": {
                                            "bold": true
                                        }
                                    },
                                    {
                                        "technique": "text",
                                        "final": true
                                    }
                                ]
                            },
                            {
                                "when": "population > 1000000 || has(region_capital)",
                                "technique": "text",
                                "final": true,
                                "attr": {
                                    "priority": 60,
                                    "scale": [
                                        { "maxLevel": 2, "value": 0.3 },
                                        { "maxLevel": 3, "value": 0.35 },
                                        { "maxLevel": 4, "value": 0.4 },
                                        { "maxLevel": 5, "value": 0.45 },
                                        { "maxLevel": 6, "value": 0.5 },
                                        { "maxLevel": 7, "value": 0.6 },
                                        { "maxLevel": 8, "value": 0.7 },
                                        { "maxLevel": 9, "value": 0.8 },
                                        { "maxLevel": 10, "value": 0.9 },
                                        { "value": 1 }
                                    ]
                                }
                            },
                            {
                                "when": "population > 400000",
                                "technique": "text",
                                "final": true,
                                "attr": {
                                    "priority": 59,
                                    "scale": [
                                        { "maxLevel": 4, "value": 0.35 },
                                        { "maxLevel": 5, "value": 0.4 },
                                        { "maxLevel": 6, "value": 0.5 },
                                        { "maxLevel": 7, "value": 0.6 },
                                        { "maxLevel": 8, "value": 0.7 },
                                        { "maxLevel": 9, "value": 0.75 },
                                        { "maxLevel": 10, "value": 0.8 },
                                        { "value": 0.85 }
                                    ]
                                }
                            },
                            {
                                "when": "population > 100000",
                                "technique": "text",
                                "final": true,
                                "attr": {
                                    "priority": 58,
                                    "scale": [
                                        { "maxLevel": 4, "value": 0.3 },
                                        { "maxLevel": 5, "value": 0.35 },
                                        { "maxLevel": 6, "value": 0.4 },
                                        { "maxLevel": 7, "value": 0.5 },
                                        { "maxLevel": 8, "value": 0.6 },
                                        { "maxLevel": 9, "value": 0.65 },
                                        { "maxLevel": 10, "value": 0.7 },
                                        { "maxLevel": 11, "value": 0.75 },
                                        { "value": 0.8 }
                                    ]
                                }
                            },
                            {
                                "when": "population > 50000",
                                "technique": "text",
                                "final": true,
                                "attr": {
                                    "priority": 57,
                                    "scale": [
                                        { "maxLevel": 10, "value": 0.5 },
                                        { "maxLevel": 11, "value": 0.6 },
                                        { "maxLevel": 12, "value": 0.7 },
                                        { "value": 0.75 }
                                    ]
                                }
                            },
                            {
                                "when": "population > 10000",
                                "technique": "text",
                                "final": true,
                                "attr": {
                                    "priority": 56,
                                    "scale": [
                                        { "maxLevel": 11, "value": 0.5 },
                                        { "maxLevel": 12, "value": 0.55 },
                                        { "maxLevel": 13, "value": 0.6 },
                                        { "maxLevel": 14, "value": 0.65 },
                                        { "value": 0.7 }
                                    ]
                                }
                            },
                            {
                                "technique": "text",
                                "when": "population <= 10000",
                                "final": true,
                                "attr": {
                                    "priority": 50,
                                    "scale": [
                                        { "maxLevel": 11, "value": 0.4 },
                                        { "maxLevel": 12, "value": 0.45 },
                                        { "maxLevel": 13, "value": 0.5 },
                                        { "maxLevel": 14, "value": 0.55 },
                                        { "value": 0.6 }
                                    ]
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "description": "POIs in tilezen format",
                "when": "$layer == 'pois'",
                "attr": {
                    "color": "#929292",
                    "scale": 0.45,
                    "poiTable": "omvPoiTable"
                },
                "styles": [
                    {
                        "when": "has(kind)",
                        "final": true,
                        "technique": "labeled-icon",
                        "attr": {
                            "poiTable": "tzPoiTable",
                            "poiNameField": "kind",
                            "iconScale": 1,
                            "scale": 0.5,
                            "yOffset": 24,
                            "textIsOptional": true,
                            "iconIsOptional": false,
                            "renderTextDuringMovements": false,
                            "textMayOverlap": false,
                            "textReserveSpace": true,
                            "iconMayOverlap": true,
                            "iconReserveSpace": false
                        }
                    },
                    {
                        "technique": "text"
                    }
                ]
            },
            {
                "when": "$layer ^= 'buildings'",
                "attr": {
                    "color": "#f7f9f9",
                    "roughness": 1.95,
                    "metalness": 0.85,
                    "emissive": "#f7f9f9",
                    "emissiveIntensity": 0.625,
                    "vertexColors": true,
                    "footprint": true,
                    "maxSlope": 0.9,
                    "lineWidth": 1.0,
                    "lineColor": "#595959",
                    "lineColorMix": 0.5,
                    "fadeNear": 0.9,
                    "fadeFar": 1.0,
                    "lineFadeNear": 0.25,
                    "lineFadeFar": 1.0
                },
                "styles": [
                    {
                        "when": "$level >= 15",
                        "styles": [
                            {
                                "when": "$geometryType ^= 'polygon'",
                                "technique": "extruded-polygon",
                                "renderOrder": 2000,
                                "attr": {
                                    "color": "#f7f9f9",
                                    "opacity": 0.8,
                                    "defaultHeight": 20
                                }
                            },
                            {
                                "when": "kind ^= 'address' && $geometryType ^= 'point' && label_placement",
                                "technique": "text",
                                "renderOrder": 100,
                                "attr": {
                                    "color": "#A9A9A9",
                                    "label": "addr_housenumber",
                                    "scale": 0.45,
                                    "opacity": 0.6,
                                    "minZoomLevel": 17
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    }
}
